<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Karte von morgen</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="style.css"></link>
    <link rel="stylesheet" href="default.css"></link>
    <link rel="stylesheet" href="dev.css"></link>
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css"></link>

<style>


.fZGVr div.map {
    height: 100%;
    width: 100%;
    position: absolute;
    margin: 0px;
    z-index: 0;
    padding: 0px;
    top: 0px;
    left: 0px;
}

.fZGVr .osm.attr,
.fZGVr .leaflet-control-attribution.leaflet-control a {
    color: rgb(102, 102, 102);
}

.gYOxnk {
    bottom: 95px;
    position: absolute;
    z-index: 0;
}

.fMdKZX {
    box-shadow: none !important;
    width: 30px;
    height: 30px;
    border: 2px solid rgba(0, 0, 0, 0.2);
    background-clip: padding-box;
}

.evrwXb {
    cursor: pointer;
    font-size: 14px;
    color: rgb(51, 51, 51);
    width: 30px !important;
    height: 30px !important;
    line-height: 30px !important;
}

.kWYPha {
    width: 12px;
    height: 12px;
}

.hegYIf {
    max-width: 130px;
    color: rgb(51, 51, 51) !important;
    background: rgb(242, 242, 242) none repeat scroll 0% 0% !important;
    margin-top: 2px !important;
    opacity: 1 !important;
    border-radius: 0.5rem !important;
    padding: 6px 17px !important;
    hyphens: auto;
}

.hegYIf::after {
    border-bottom-color: rgb(242, 242, 242) !important;
}

.hegYIf > h3 {
    margin: 0.5rem 0px -0.5rem;
    padding: 0px;
    font-size: 0.9rem;
}

.NavButton {
    cursor: pointer;
    box-sizing: border-box;
    font-weight: normal;
    padding: 0.3em;
    font-size: 1.2em;
    border-color: transparent currentcolor;
    border-style: solid none;
    border-width: 4px medium;
    border-image: none 100% / 1 / 0 stretch;
    color: rgb(221, 221, 221);
    background: transparent none repeat scroll 0% 0%;
}

.NavButton:hover {
    color: rgb(255, 255, 255);
    border-bottom: 4px solid rgb(255, 255, 255);
}

.NavButton i {
    margin-right: 0.5em;
}

.gleiBQ {
    margin-right: 10px !important;
}

.ResultListOuter {
    display: flex;
    flex-direction: column;
    height: 100%;
}

.ResultListEntry {
    -moz-box-flex: 1;
    flex-grow: 1;
    display: flex;
    flex-direction: row;
    overflow-y: hidden;
}

.TitleCategoryAndDescription {
    -moz-box-flex: 1;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}

.ResultListEntryTitle {
    font-size: 1.1em;
    margin: 0.2rem 0.3em 0.2rem 0px;
    font-weight: 500;
    position: relative;
    z-index: 3;
}

.ResultListElement {
    position: relative;
    height: 115px;
    overflow-y: hidden;
    cursor: pointer;
    margin: 0px;
    padding: 0.7em 0.5em 0.4em 0.7em;
    border-bottom: 1px solid rgb(221, 221, 221);
    border-left: 5px solid transparent;
}

.ResultListElement div.category {
    height: 1.2em;
}

.ResultListElement.current-entry {
    background: rgb(255, 255, 255) none repeat scroll 0% 0%;
}

.ResultListElement:hover {
    background: rgb(255, 255, 255) none repeat scroll 0% 0%;
}

.ResultListElement.event.current-entry {
    border-left: 5px solid rgb(229, 98, 146);
}

.ResultListElement.event:hover {
    border-left: 5px solid rgb(229, 98, 146);
}

.ResultListElement.event span.category, .iRaMrp.event{
    color: rgb(229, 98, 146);
}

.ResultListElement.company.current-entry {
    border-left: 5px solid rgb(0, 152, 137);
}

.ResultListElement.company:hover {
    border-left: 5px solid rgb(0, 152, 137);
}

.ResultListElement.company span.category, .iRaMrp.company {
    color: rgb(0, 152, 137);
}

.ResultListElement.initiative.current-entry {
    border-left: 5px solid rgb(151, 191, 13);
}

.ResultListElement.initiative:hover {
    border-left: 5px solid rgb(151, 191, 13);
}

.ResultListElement.initiative span.category, .iRaMrp.initiative {
    color: rgb(151, 191, 13);
}

.ResultListElement span.category {
    font-size: 0.8em;
    color: rgb(170, 170, 170);
    text-transform: uppercase;
}

.ResultListElement span.title {
    font-weight: bold;
    font-size: 1.2em;
    margin-right: 0.3em;
}

.ResultListElement span.subtitle {
    font-size: 0.8em;
    color: rgb(85, 85, 85);
}

.ResultListElement .highlight-entry div.chevron {}

.ResultListElement .highlight-entry.initiative div.chevron {}

.ResultListElement .highlight-entry.company div.chevron {}

.ResultListElement .highlight-entry.event div.chevron {}

.ResultListDescription {
    margin-top: 2px;
    max-height: 42px;
    overflow: hidden;
    hyphens: auto;
    position: relative;
    z-index: 3;
    font-size: 0.8em;
    color: rgb(85, 85, 85);
}

.TagsWrapper {
    height: 21px;
    overflow-y: hidden;
    margin-top: 5px;
    float: left;
}

.TagsWrapper ul {
    list-style: outside none none;
    padding: 0px;
    margin: 0px;
}

.Tag {
    line-height: 14px;
    font-size: 0.75em;
    display: inline-block;
    background: rgb(234, 234, 234) none repeat scroll 0% 0%;
    color: rgb(51, 51, 51);
    border-radius: 0.3em;
    padding: 0.2em 0.4em;
    margin-right: 0.4em;
    margin-bottom: 0.2em;
    border: 0px none;
    letter-spacing: 0.06em;
    height: 12px;
    overflow: hidden;
}

.FlowerWrapper {
    margin: 22px 10px 0px;
}

.ResultListWrapper {
    box-sizing: border-box;
}

.ResultListWrapper .result-list p.no-results {
    margin: 0px;
    padding: 1em;
    font-size: 0.9em;
}

.ResultListWrapper .result-list p.no-results span {
    margin-left: 0.5em;
}

.ResultListWrapper .result-list p.loading {
    margin: 20px 0px 0px;
    padding: 1em;
    font-size: 0.9em;
}

.ResultListWrapper .result-list p.loading span {
    margin-left: 0.5em;
}

.ResultListWrapper .result-list ul {
    list-style: outside none none;
    margin: 0px;
    padding: 0px;
}

.StyledScrollableDiv {
    -moz-box-flex: 1;
    flex-grow: 1;
    overflow-y: scroll;
    box-sizing: border-box;
}

.StyledScrollableDiv::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

.StyledScrollableDiv::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0) none repeat scroll 0% 0%;
}

.StyledScrollableDiv::-webkit-scrollbar-thumb {
    background: rgb(153, 153, 153) none repeat scroll 0% 0%;
}

.eVwvVu {
    display: flex;
    border-radius: 50%;
    border-color: rgb(102, 102, 102) white white;
    border-style: solid;
    border-width: 3px;
    border-image: none 100% / 1 / 0 stretch;
    height: 17px;
    width: 17px;
    animation: 1s linear 0s infinite normal none running iECmZH;
}

.gnVtmb {
    margin: 0.1em 0px 0px 0.1em;
    animation-duration: 150ms;
    animation-name: turn;
}

@keyframes turn {
    0% {
        transform: rotate(330deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

@keyframes turn {
    0% {
        transform: rotate(330deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

.MainCategories {
    font-size: 0.8em;
    color: rgb(102, 102, 102);
}

.MainCategories button {
    padding: 0.5em;
    text-transform: uppercase;
    background-color: rgb(247, 247, 247);
}

.MainCategories button > i.toggle {
    text-align: left;
    display: block;
    width: 1.8em;
    height: 0.9em;
    border: 1px solid rgb(255, 255, 255);
    border-radius: 0.5em;
    float: right;
}

.MainCategories button > i.toggle > i {
    display: inline-block;
    height: 0.9em;
    width: 0.9em;
    border-radius: 0.5em;
    background-color: rgb(255, 255, 255);
    vertical-align: top;
    border: 1px solid rgb(255, 255, 255);
    margin: -1px;
}

.MainCategories button.active > i.toggle {
    text-align: right !important;
}

.MainCategories .active {
    color: rgb(255, 255, 255);
    box-shadow: rgba(0, 0, 0, 0.4) 0.2px 0.2px 2px 1px inset;
}

.MainCategories .initiative.active {
    background: rgb(151, 191, 13) none repeat scroll 0% 0%;
}

.MainCategories .event.active {
    background: rgb(229, 98, 146) none repeat scroll 0% 0%;
}

.MainCategories .company.active {
    background: rgb(0, 152, 137) none repeat scroll 0% 0%;
}

.SearchInput {
    border: 1px solid rgba(0, 0, 0, 0.1) !important;
    border-radius: 0px !important;
    font-size: 1.1em !important;
    line-height: 1.7em !important;
    font-weight: 300;
    padding-left: 3.1em !important;
}

.SearchInput::-webkit-input-placeholder {
    color: rgb(170, 170, 170);
}

.SearchInput::placeholder {
    color: rgb(170, 170, 170);
}

.SearchInput::placeholder {
    color: rgb(170, 170, 170);
}

.SearchBar {
    border-bottom: 1px solid rgb(221, 221, 221);
    width: 100%;
    box-sizing: border-box;
    background: rgb(255, 255, 255) none repeat scroll 0% 0%;
}

.SearchBar input,
.SearchBar button {
    box-sizing: border-box;
    border: medium none;
    outline: currentcolor none medium;
}

.SearchBar input,
.SearchBar span.search-icon {
    font-size: 1.2em;
}

.SearchBar input {
    padding: 0.4em 0.4em 0.4em 2em;
}

.SearchBar .search-icon {
    position: absolute;
    margin: 0.5em 0px 0px 0.9em;
    display: inline-block;
    color: rgb(102, 102, 102);
    z-index: 5;
    font-size: 1.2rem;
}

.SidebarComponent {
    display: flex;
    flex-direction: column;
    height: 100%;
}

.GroupHeader {
    border-top: 3px solid rgb(221, 221, 221);
    padding: 0.5em 1em;
    margin: 0px;
    background: rgb(234, 234, 234) none repeat scroll 0% 0%;
    color: rgb(102, 102, 102);
}

.AddEntryButton {
    z-index: 10;
    padding: 0px;
    margin: 0px;
    background: rgb(26, 26, 26) none repeat scroll 0% 0%;
    text-align: center;
    bottom: 0px;
}

.AddEntryButton li {
    cursor: pointer;
    box-sizing: border-box;
    font-weight: normal;
    padding: 0.3em;
    font-size: 1.2em;
    border-color: transparent currentcolor;
    border-style: solid none;
    border-width: 4px medium;
    border-image: none 100% / 1 / 0 stretch;
    color: rgb(221, 221, 221);
    background: transparent none repeat scroll 0% 0%;
}

.AddEntryButton li:hover {
    color: rgb(255, 255, 255);
    border-bottom: 4px solid rgb(255, 255, 255);
}

.AddEntryButton li i {
    margin-right: 0.5em;
}

.ResultWrapper {
    background: rgb(247, 247, 247) none repeat scroll 0% 0%;
}

.ResultWrapper .city-list ul {
    background: rgb(247, 247, 247) none repeat scroll 0% 0%;
}

.ResultWrapper .city-list ul li {
    padding: 0.2em 0.7em;
    line-height: 0.9;
    border-left: 5px solid transparent;
}

.ResultWrapper .city-list ul li:hover {
    background: rgb(255, 255, 255) none repeat scroll 0% 0%;
    border-left: 5px solid rgb(102, 102, 102);
}

.ResultWrapper .city-list ul li:hover div.chevron {
    color: rgb(102, 102, 102);
}

.ResultWrapper .city-list ul li span.state {
    color: rgb(85, 85, 85);
}

.ResultWrapper .city-list ul li span.country {
    color: rgb(136, 136, 136);
}

.ResultWrapper .city-list ul li span.prefix {
    color: rgb(136, 136, 136);
}

@media only screen and (max-width: 600px) {
    body {
        font-size: 80%;
    }
}

h1,
h2,
h3,
h4,
h5,
h6,
h7 {
    font-family: "Rubik", sans-serif;
}

html,
button,
input,
select,
textarea {
    font-family: "Rubik", sans-serif;
}

.leTWXz {
    padding-right: 0.45rem;
}

.bVtZdE {
    margin-right: 0.3em;
    width: 0.7em;
}

.SwipeableLeftPanel {
    position: relative;
    height: 100%;
    z-index: 2;
    order: -1;
    overflow-y: hidden;
    float: left;
    background-color: rgb(255, 255, 255);
    box-shadow: rgba(0, 0, 0, 0.5) 1px 1px 5px;
}

.SwipeableLeftPanel .content {
    width: 100%;
    box-sizing: border-box;
    padding-bottom: 1rem;
    display: flex;
    flex-direction: column;
}

.SwipeableLeftPanel.closed {
    width: 0px;
}

.SwipeableLeftPanel.opened {
    max-width: 380px;
    width: 90%;
}

.SwipeableLeftPanel.opened .menu {
    width: 100%;
}

.SwipeableLeftPanel .search.closed {
    display: none;
}

.SwipeableLeftPanel .search .main-categories {
    height: 2.1em;
}

.iMCOcx {
    position: absolute;
    top: 15px;
    right: 0px;
    background: rgb(255, 255, 255) none repeat scroll 0% 0%;
    color: rgb(26, 26, 26);
}

.iMCOcx .menu-toggle button {
    outline: currentcolor none medium;
    position: relative;
    z-index: 1;
    top: 0px;
    right: 0px;
    font-size: 15pt;
    text-transform: uppercase;
    text-align: right;
    color: rgb(102, 102, 102);
    background: rgb(255, 255, 255) none repeat scroll 0% 0%;
    border-radius: 0.2em 0px 0px 0.2em;
    border: medium none;
    padding: 0.2em;
    box-shadow: rgba(0, 0, 0, 0.5) 0px 1px 3px 0.2px;
}

.iMCOcx .menu-toggle button:hover {
    color: rgb(26, 26, 26);
    box-shadow: rgb(0, 0, 0) 0px 1px 3px 0.2px;
}

.iMCOcx .menu-toggle button .pincloud {
    display: inline-block;
    width: 3.5em;
    height: 1.2em;
    background-position: left center;
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFUAAAA6CAYAAADBVxXVAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAGowAABqMBl5rTRgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAm4SURBVHic7Zx9cFTVFcB/5+0mIUIS2hElQPjwe8avKhIqIhUbJpWCE6mCU8cPEkIqEFCxjEKGeSLBUitKCAEiSQQdxSB10qjQYtD6UeTD6bRlaHVAaAMIikJISCC7+07/gISQZLPvvexmweE3k5nsu+fcc3L2vvfuPffcCOcAKzb+KMlv+O8R9GYViUXZZfmNdbnpNXui69i6ZNQ/A3QMyFVAPbAD9HXiGkqZOPFEe2rStV62ZVlV4jRFFwAJrZp8wOJvjNqnzZH4u9yxFW9moKwCEtttV7bhDYwl+9eHWjdFNajLNiUsVGVWh0LCh56ANyNn1JGaLnILit9Mw2ID4OlYULbT2GM400efbHnViKBrHVJUlXhXyIACKHcEDP/GFz/o2bML3IKC9+KwKCNkQAH0FmJrn299NWpBBZ3jQHhInBV4d9HfiI+YO03EHpsA9HOgMZXiNUNaXohKUFduSPwxMMyh2rBuDQmvm2aEfVa506GGgSWFqMqZC1HgpJfLcfc8z+g1PNEMsztnI/R2oZXK8vJxTR+iElSPEWh0qyuieUXvJ2SE059WFo65U9NnmkZrVIIaJ8e/ANqd49lAEFYVbUq4Opw+teh9m0vFayleOxqiFNSJIzkBvNWJLhJRfcP8AG+4fGrG8LyB2y/c0t9CFN/+Fp48oNaF6n6U5y2V+yOyKMj+1T5gnitd4WcUrxkS1cn/0vd7jBSRCtquplrzPVAh6GuHPq770DSxIuqYqrCifBHwmAvt1VFfpi75c9IgjzcwH+ReIPb05e8V/VzE2KwB3djrSO3m8eMJdLlzy8tHgU4CbuXU3LW9eH0DHAL2g+5H2BH1oDZhmhjJd150KTU9a3LGHqiPtj9tKHgvDu+RixAjCTw+1FePp66OnBxftF27wAUucIEfMufMiyrcrL7hye49up28wq8Bibf8X479vLjLXn5dG9TSypuxSMeQASgNCJ/ji6skZ1TYEtBrUqde5RH9PTCGMzlRv8I7GMbc8ZsL/xUuW8HomqCWvdsbyyoFuaud1qMgeWT9cmlnzaxNffR2RCqBpPYlpFGwsu7dsuy1ztrqiMgHtezd3lj6GTAghOQLZI150q2Z8sGT+4vHux2hVwjRAKoj79u67GO3tkIR+bW/pUsIHVCAmaysdJXSUxDxelbZCCiAB5FCN3bsEtmgrqrsC9xjW17EdGNmbeqUTJA7HKjc8FbqtFvc2LJDZIPqk2HY2kBr5kbK1g90YqLitswEERY48guwDB0SWsodkb79b3SsEfBf7kS8MdBtJnCJUzOiepFTHbtENqiGo13JU3jE9lbLa0NzE1FmOLYBiEi1Gz07RHhnUp2OoABq/MeucBz+qYCbegCfFdCPXOjZIsK3v+H0FttI5uhv7QiW3/p4PIirUYrqqvHbig660rVBZIMqVpwD6eOgT9kVNgInHgYudeHUzsZYG5UxnaDNxtneyS8mxwYYaqmnJwS+6Nu/ZpuYpru9IBW72frDiHUvmXf/w37X8ogLj9b78E584JPFR1zo2qZ5RXUgq3CAZfkXIZJBixEscNBCXw149cWBxY9/7aj3ksoq6LDiQ4E1xMQ8xkPp3zh1ft3Q3H6IDrBUU1RJMUT7KpKI0OOMBf1WVfZ6Mf4ybusS219aZxCA6keWXC+GtZGOb6cGkCKfFZg/6JXHj9rqvaTyvSDrfQulEoxnmDT6787dPrcxDj74fHcMq4LQz6d40JkxhvHl/qyCTEVt5A2k9f75d6AFGHoNk8Zk/BADCuD1x8T8RmCQA51eqlqyf2LB/QeMwuw+JdP+G1xUjoL6ENlAQF8hqf4dxo93XfJzviD7Mhd/Bgx1qV8LzOpbOn2FINqmdeU719HIfqaMieiL4VxDqjMX10iwEmybKCxNKZ0xLVxOne94pZ1plTNks9/yzA+PO+cGpolx6YjEUaqaBtoHjBoR3a4xxttTbq8JedfJvszF/wSud2NcYemx2iNPXLvW/ME8J5dv6n6jpcZq4IZ2mo+K6lOPptWt6KgPL6oViDgN6nEVJqeUzHjdod45zdL3E4dYqpugxTz3bHqqyPKlVYnJU39+zAzWj0HA+xKnCsDsslXQwaECmjlrYaiis4ig1cTrVwzQXQzWXfxCdzFBdzFZdwfbtzpF2Qd0E9Fygge0GUHnFlb1GBGs3ei3etp3gkwgdE1mnSCz+vY/clvf0se+CGXY8Pq2TZozPz83t8DJ+t8RuofeuouHdTeFuptPdTcHaaQeZS/CdoT1CGsQCrA6/vvqAwkPAANtmhaBvKCNTb9UZxWkiurLtH2WNKC62hLPvP6luQfsWMyenf8TRZsm9jvUsh4q+d3csE309StSgYUoI7CXFPpULmd4RwJFVQnrgHEdybTCdyK+NumJYTS0bmh+86eUTN+qpnlTdXXP4YYyXCBRYadHjfXJZTNspeNakN7i9+vEMLZMmp3/bL9Y33Om2+TMafQrHkR5BScZNmGTDakUh67EdG9I6gM1u1s3nDWdEtO0gI9O/3QCTW91IQZ03r5Gb9rk2fn3Fy+Y4ywx09Trbq5CeRmnKcuAraA6za8GqO/+NbStAwl7PnWKafZQuC1I8wgLtmc9Ne8ml93PBZw+oxuAzaGEVPnEUa/C5mB1tGEPqs/v+SlnKqLbQfuIYfw1O+/ZNCf9qiLA3Y4dUjbKlZwMJRaLtYpTh4ztdWtp0NqBsAfVCoidk3wJasmfsp5eEGxEt2UPlxD6bEB7/NGOUHba8UOqvGqzz53feurWBWsMe1BFxO62dLyItdb2fDbG/ihqwXGUt+0Ke9X7DIQe1aoys6OTMeHfo1J1cmgsWbx+W4kYSeF7wOm28lq5Etsn+HJGHfkfwgsdOyJvTk07tqEjkfAHVWxPoE+Jqzo5YOtkWWwhvOTEFwDP8YR8hGD/EeOw+KzpofoIa1BN0zQAZ9vSwsW2Zf38AbA3HRNelctwvCeVM/ZAPRYPQ5uzWmoJkx5Nrwu5lxaJLeqQz6SzUA7bFZWrOYzBPUCo9NsOGsl15EcLpqTVfgxa0PKawqJpd9ZW2NEP90i1gJ1OdBQc1YnKILbgYTBCBW1HUwNKIT6GyTWujmg2cyK+bjbw79Mft3iTap+2qxuJF9VKB9L1lkGZUxMykD1yGRnEkIIyDshESAeS5QpyOxtQgCeG0RCwrAnAXvX778u5xf7sI+yV1KZpevc1equAoKmxZuPC1Jfz84rC7UM4Kfnk4oSs4YcdfUkRKU9/wDQT4xu95ZydWGmJD2HWyvw8x2/n84EI1vyrZM/JH6eQiZIKdFP4WqDKUGNx8XOzbVf3nW/8H5HVRwM7CRJGAAAAAElFTkSuQmCC");
    background-repeat: no-repeat;
    background-size: 50% auto;
}

.iMCOcx .menu-toggle button i {
    margin-right: 0.3em;
}

.LeftPanelAndHideSidebarButton {
    display: flex;
    flex-direction: row;
    height: 100%;
}

.HideSidebar {
    position: relative;
    z-index: 2;
    height: 0px;
}

.HideSidebar > button {
    position: relative;
    padding: 10px 3px 10px 7px;
    top: 72px;
    font-size: 13pt;
    color: rgb(102, 102, 102);
    background: rgb(255, 255, 255) none repeat scroll 0% 0%;
    border-color: currentcolor currentcolor currentcolor rgb(221, 221, 221);
    border-style: none none none solid;
    border-width: medium medium medium 1px;
    border-image: none 100% / 1 / 0 stretch;
    border-radius: 0px 0.2em 0.2em 0px;
    box-shadow: rgba(0, 0, 0, 0.4) 2px 1px 4px 0px;
}

.HideSidebar > button:hover {
    color: rgb(26, 26, 26);
}

.HideSidebar > button i {
    margin-right: 0.3em;
}

.StyledApp {
    background: rgb(255, 255, 255) none repeat scroll 0% 0%;
    position: absolute;
    top: 0px;
    bottom: 0px;
    left: 0px;
    right: 0px;
}

.StyledApp .tutorial {
    margin-bottom: 3em;
}

.StyledApp .tutorial img {
    width: 100%;
}

@media not all {
    .StyledApp body {
        font-size: 80%;
    }
}

.StyledApp input,
.StyledApp select,
.StyledApp textarea,
.StyledApp button {
    font-family: "Rubik", sans-serif;
}

.StyledApp h1,
.StyledApp h2,
.StyledApp h3,
.StyledApp h4,
.StyledApp h5,
.StyledApp h6,
.StyledApp h7 {
    font-family: "Rubik", sans-serif;
    font-weight: 500;
    margin-block-end: 2px;
}

.StyledApp button {
    font-family: "Rubik", sans-serif;
}

.StyledApp button.pure-button i {
    margin-right: 0.5em;
}

.StyledApp .fa {
    font-family: "FontAwesome" !important;
}

.StyledApp .pure-g [class*="pure-u"] {
    font-family: "Rubik", sans-serif;
}

.StyledApp::-webkit-scrollbar {
    background-color: rgb(238, 238, 238);
}

.StyledApp::-webkit-scrollbar-thumb {
    border-radius: 0px;
    background-color: rgb(204, 204, 204);
}

.StyledApp .pure-menu-list {
    margin: 0px 50px;
}

.StyledApp .pure-menu-link:hover {
    color: rgb(0, 0, 0);
}

.StyledApp label span.desc {
    color: rgb(102, 102, 102);
    font-size: 0.8em;
    margin-left: 0.5em;
}

.StyledApp legend span.desc {
    color: rgb(102, 102, 102);
    font-size: 0.8em;
    margin-left: 0.5em;
}

.StyledApp form div.err {
    color: rgb(255, 68, 68);
    font-size: 0.9em;
}

.StyledApp form input[type="text"].err {
    border-color: rgb(255, 68, 68);
}

.StyledApp form textarea.err {
    border-color: rgb(255, 68, 68);
}

.StyledApp form select.err {
    border-color: rgb(255, 68, 68);
}

.StyledApp .banner {
    position: relative;
    z-index: 10;
    color: rgb(238, 238, 238);
    text-align: center;
    padding-top: 1em;
    padding-bottom: 1em;
}

.StyledApp .banner .banner-link {
    color: rgb(0, 0, 0);
}

.StyledApp div.chevron {
    position: relative;
    color: rgb(221, 221, 221);
}

.StyledApp div.chevron i {
    position: absolute;
    display: inline-table;
    top: 0px;
    bottom: 0px;
    margin: auto;
}

.StyledApp .close-button {
    text-align: center;
    margin: 0px;
    padding: 1em;
}

.StyledApp .close-button button {
    margin: 0px 5px;
}

.StyledApp .message {
    white-space: pre-wrap;
    margin: 0px;
    padding: 1em;
}

.StyledApp .new-rating-form {
    margin: 2em 1.8em 1.8em;
}

.StyledApp .new-rating-form .radio-button {
    margin: 0.2em 0.3em 0.2em 0px;
}

.StyledApp .new-rating-form .form-heading {
    font-weight: bold;
    margin-top: 0.5em;
    margin-bottom: 0px;
}

.StyledApp .new-rating-form .rating-context-explanation {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
    font-style: italic;
}

.StyledApp .new-rating-form .title {
    margin-bottom: 0.5em;
}

.StyledApp .optional::-webkit-input-placeholder {
    color: rgb(119, 119, 119);
}

.StyledApp .optional::placeholder {
    color: rgb(119, 119, 119);
}

.StyledApp .optional::placeholder {
    color: rgb(119, 119, 119);
}

.StyledApp input,
.StyledApp textarea,
.StyledApp select {
    box-shadow: none !important;
    border-radius: 3px !important;
}

.StyledApp .info .landing-img {
    width: 70%;
}

.StyledApp .info h3 {
    margin-top: 50px;
}

.StyledApp .license input {
    margin-top: 0.7em;
}

@keyframes iECmZH {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

@keyframes iECmZH {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}
</style>
</head>
<body onload="initCity();" class="lowres">


<div class="app StyledApp">

<div id="resultMapCtnr">
    <div id="resultMap"></div>
</div>

<div class="LeftPanelAndHideSidebarButton">
    <div class="left opened SwipeableLeftPanel">
        <div class="SidebarComponent">
            <div class="search open">
                <div class="SearchBar pure-g SearchBar">
                    <div class="main-categories pure-u-1 pure-g MainCategories">
                        <div><button class="initiative pure-u-8-24 active" id="btnInitiative" onclick="toggleCat('Initiative')">Initiative</button><button class="event pure-u-7-24" id="btnEvent" onclick="toggleCat('Event')">Event</button><button class="company pure-u-9-24 active" id="btnUnternehmen" onclick="toggleCat('Unternehmen')">Unternehmen </button></div>
                    </div>
                    <div class="pure-u-1">
                        <div class="search-icon">
                            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16 SearchBar__MagnifyingGlassIcon-sc-14ao0uv-0 gnVtmb" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                <path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path>
                            </svg>
                        </div>
                        <input id="text" onchange="find();" class="pure-u-1 SearchInput" placeholder="Wonach suchst du? (# für Tags)" value="">
                    </div>
                </div>
            </div>

            <div id="overMapScroll" class="result ResultWrapper StyledScrollableDiv">
                <div class="ResultListWrapper">
                    <div class="result-list">
                        <ul id="results_visible">
                        </ul>
						<ul id="result_example">
                            <li class="initiative ResultListElement" id="template_result">
                                <div class="ResultListOuter">
                                    <div class="ResultListEntry">
                                        <div class="TitleCategoryAndDescription"><span class="category" id="result_category">Initiative</span>
                                            <div>
                                                <h3 id="result_title" class="title ResultListEntryTitle">Appel un' Ei</h3></div>
                                            <div id="result_description" class="ResultListDescription">Appel un' Ei ist eine studentische Kooperative, die regionale, biologisch angebaute...</div>
                                        </div>
                                        <div class="FlowerWrapper">
                                            <div>
                                                <svg width="64" height="64">
                                                    <g transform="translate(32,32)">
                                                        <circle cx="0" cy="0" r="31" fill="#fff" stroke="#ccc" stroke-width="0.5"></circle>
                                                        <g>
	                                                        <path id="result_rating_diversity" d="M 0,0 C 0,0 9.87,13.098900000000002 9.87,18.330000000000002 9.87,23.561100000000003 5.2311,28.2 0,28.2 -5.2311,28.2 -9.87,23.561100000000003 -9.87,18.330000000000002 -9.87,13.098900000000002 0,0 0,0 Z" fill="rgb(151,  191,  13 )" transform="translate(1.7999999999999998,0)       rotate(-90)       scale(0.9990000000000001)" data-tip="" data-html="true" currentItem="false"></path>
	                                                        <path id="result_rating_renewable" d="M 0,0 C 0,0 9.87,13.098900000000002 9.87,18.330000000000002 9.87,23.561100000000003 5.2311,28.2 0,28.2 -5.2311,28.2 -9.87,23.561100000000003 -9.87,18.330000000000002 -9.87,13.098900000000002 0,0 0,0 Z" fill="rgb(255,  221,  0  )" transform="translate(0.9000000000000001,1.5588457268119893)       rotate(-30)       scale(0.766)" data-tip="" data-html="true" currentItem="false"></path>
	                                                        <path id="result_rating_fairness" d="M 0,0 C 0,0 9.87,13.098900000000002 9.87,18.330000000000002 9.87,23.561100000000003 5.2311,28.2 0,28.2 -5.2311,28.2 -9.87,23.561100000000003 -9.87,18.330000000000002 -9.87,13.098900000000002 0,0 0,0 Z" fill="rgb(229,  98,   146)" transform="translate(-0.8999999999999995,1.5588457268119895)       rotate(30)       scale(0.9990000000000001)" data-tip="" data-html="true" currentItem="false"></path>
	                                                        <path id="result_rating_humanity" d="M 0,0 C 0,0 9.87,13.098900000000002 9.87,18.330000000000002 9.87,23.561100000000003 5.2311,28.2 0,28.2 -5.2311,28.2 -9.87,23.561100000000003 -9.87,18.330000000000002 -9.87,13.098900000000002 0,0 0,0 Z" fill="rgb(170,  56,   108)" transform="translate(-1.7999999999999998,2.2043642384652356e-16)       rotate(90)       scale(0.766)" data-tip="" data-html="true" currentItem="false"></path>
	                                                        <path id="result_rating_transparency" d="M 0,0 C 0,0 9.87,13.098900000000002 9.87,18.330000000000002 9.87,23.561100000000003 5.2311,28.2 0,28.2 -5.2311,28.2 -9.87,23.561100000000003 -9.87,18.330000000000002 -9.87,13.098900000000002 0,0 0,0 Z" fill="rgb(100,  122,  133)" transform="translate(-0.9000000000000007,-1.5588457268119889)       rotate(150)       scale(0.9990000000000001)" data-tip="" data-html="true" currentItem="false"></path>
	                                                        <path id="result_rating_solidarity" d="M 0,0 C 0,0 9.87,13.098900000000002 9.87,18.330000000000002 9.87,23.561100000000003 5.2311,28.2 0,28.2 -5.2311,28.2 -9.87,23.561100000000003 -9.87,18.330000000000002 -9.87,13.098900000000002 0,0 0,0 Z" fill="rgb(0,    153,  173)" transform="translate(0.9000000000000001,-1.5588457268119893)       rotate(210)       scale(0.9990000000000001)" data-tip="" data-html="true" currentItem="false"></path>
                                                        </g>
                                                    </g>
                                                </svg>
                                                <div class="__react_component_tooltip place-bottom type-dark " data-id="tooltip"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="TagsWrapper">
                                        <ul id="result_tags">
                                            <div class="Tag">#bio</div>
                                            <div class="Tag">#bundhshd</div>
                                            <div class="Tag">#kooperative</div>
                                            <div class="Tag">#mobile</div>
                                            <div class="Tag">#regional</div>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="ResultListElement">
                                <div><a href="#">mehr Einträge anzeigen...</a></div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div>
                    <div class="GroupHeader">Weitere Ergebnisse außerhalb des sichtbaren Bereichs der Karte:</div>
                    <div class="ResultListWrapper">
                        <div class="result-list">
<!-- id=openstreetmap ? --> <ul id="results_invisible" >
                                <li class="company ResultListElement">
                                    <div class="ResultListOuter">
                                        <div class="ResultListEntry">
                                            <div class="TitleCategoryAndDescription"><span class="category">Unternehmen</span>
                                                <div>
                                                    <h3 id="27bccef5a7ef49dab2414f6eb6cd8ef4" class="title ResultListEntryTitle">Heidelberger Solidarstrom</h3></div>
                                                <div class="ResultListDescription">Heidelberger Ökostrom der nicht nur den Wechsel zu erneuerbaren Energien fördert...</div>
                                            </div>
                                            <div class="FlowerWrapper">
                                                <div>
                                                    <svg width="64" height="64">
                                                        <g transform="translate(32,32)">
                                                            <circle cx="0" cy="0" r="31" fill="#fff" stroke="#ccc" stroke-width="0.5"></circle>
                                                            <g>
	                                                            <path id="result2_rating_diversity" d="M 0,0 C 0,0 9.87,13.098900000000002 9.87,18.330000000000002 9.87,23.561100000000003 5.2311,28.2 0,28.2 -5.2311,28.2 -9.87,23.561100000000003 -9.87,18.330000000000002 -9.87,13.098900000000002 0,0 0,0 Z" fill="rgb(221,  221,  221)" transform="translate(1.7999999999999998,0)       rotate(-90)       scale(0.59)" data-tip="" data-html="true" currentItem="false"></path>
	                                                            <path id="result2_rating_renewable" d="M 0,0 C 0,0 9.87,13.098900000000002 9.87,18.330000000000002 9.87,23.561100000000003 5.2311,28.2 0,28.2 -5.2311,28.2 -9.87,23.561100000000003 -9.87,18.330000000000002 -9.87,13.098900000000002 0,0 0,0 Z" fill="rgb(255,  221,  0  )" transform="translate(0.9000000000000001,1.5588457268119893)       rotate(-30)       scale(0.766)" data-tip="" data-html="true" currentItem="false"></path>
	                                                            <path id="result2_rating_fairness"h d="M 0,0 C 0,0 9.87,13.098900000000002 9.87,18.330000000000002 9.87,23.561100000000003 5.2311,28.2 0,28.2 -5.2311,28.2 -9.87,23.561100000000003 -9.87,18.330000000000002 -9.87,13.098900000000002 0,0 0,0 Z" fill="rgb(221,  221,  221)" transform="translate(-0.8999999999999995,1.5588457268119895)       rotate(30)       scale(0.59)" data-tip="" data-html="true" currentItem="false"></path>
	                                                            <path id="result2_rating_humanity" d="M 0,0 C 0,0 9.87,13.098900000000002 9.87,18.330000000000002 9.87,23.561100000000003 5.2311,28.2 0,28.2 -5.2311,28.2 -9.87,23.561100000000003 -9.87,18.330000000000002 -9.87,13.098900000000002 0,0 0,0 Z" fill="rgb(221,  221,  221)" transform="translate(-1.7999999999999998,2.2043642384652356e-16)       rotate(90)       scale(0.59)" data-tip="" data-html="true" currentItem="false"></path>
	                                                            <path id="result2_rating_transparency" d="M 0,0 C 0,0 9.87,13.098900000000002 9.87,18.330000000000002 9.87,23.561100000000003 5.2311,28.2 0,28.2 -5.2311,28.2 -9.87,23.561100000000003 -9.87,18.330000000000002 -9.87,13.098900000000002 0,0 0,0 Z" fill="rgb(221,  221,  221)" transform="translate(-0.9000000000000007,-1.5588457268119889)       rotate(150)       scale(0.59)" data-tip="" data-html="true" currentItem="false"></path>
	                                                            <path id="result2_rating_solidarity" d="M 0,0 C 0,0 9.87,13.098900000000002 9.87,18.330000000000002 9.87,23.561100000000003 5.2311,28.2 0,28.2 -5.2311,28.2 -9.87,23.561100000000003 -9.87,18.330000000000002 -9.87,13.098900000000002 0,0 0,0 Z" fill="rgb(221,  221,  221)" transform="translate(0.9000000000000001,-1.5588457268119893)       rotate(210)       scale(0.59)" data-tip="" data-html="true" currentItem="false"></path>
                                                            </g>
                                                        </g>
                                                    </svg>
                                                    <div class="__react_component_tooltip place-bottom type-dark " data-id="tooltip"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="TagsWrapper">
                                            <ul id="result2_tags">
                                                <div class="Tag">#energiewende</div>
                                                <div class="Tag">#gemeinwohl</div>
                                                <div class="Tag">#mitbestimmung</div>
                                                <div class="Tag">#nachhaltigkeit</div>
                                                <div class="Tag">#transformation</div>
                                            </ul>
                                        </div>
                                    </div>
                                </li>
                                <li class="ResultListElement">
                                    <div><a href="#">mehr Einträge anzeigen...</a></div>
                                </li>                                <li class="ResultListElement">
                                    <div><a href="#">mehr Einträge anzeigen...</a></div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div id="details" class="Sidebar__ScrollableEntryDetailsWrapper-bwfae2-0 dwHqrZ ScrollableDiv__StyledScrollableDiv-sc-168a1f7-0 dJIxVX" >
                <div class="EntryDetails__Entry-fg0d9y-2 kOGlKj">
                    <nav class="menu-top EntryDetails__Navbar-fg0d9y-1 WuzFA">
                        <div class="NavButtonWhite__NavigationButtonWrapper-e4q989-0 fdqOYY"><a onclick="document.getElementById('details').style.display = 'none';scrollBack();event.preventDefault();location.hash=location.hash?location.hash.replace(/^[^;]*;/,';'):'';return false;" class="NavButtonWhite__NavigationButton-e4q989-2 iJYAJX"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-left" class="svg-inline--fa fa-chevron-left fa-w-10 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"></path></svg> zurück</a></div>
                        <div class="NavButtonWhite__NavigationButtonWrapperRight-e4q989-1 hTDXur"><span class="NavButtonWhite__NavigationButton-e4q989-2 iJYAJX"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="pencil-alt" class="svg-inline--fa fa-pencil-alt fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"></path></svg> </span></div>
                    </nav>
                    <div class="BusinessCard__EntryDetailPage-sc-1voivxq-2 hOTvAL">
                        <div class="BusinessCard__EntryCategory-sc-1voivxq-6 iRaMrp"><span id="details_categories">Initiative</span></div>
                        <h3 id="details_title" class="BusinessCard__EntryTitle-sc-1voivxq-5 gikeND">Vegan in Heidelberg e. V.</h3>
                        <p id="details_description" class="BusinessCard__EntryDescription-sc-1voivxq-7 eNRaZV">Wir sind eine wachsende Gruppe von Leuten, die sich dazu entschieden haben, die frohe Botschaft des Veganismus nicht mit Feuer und Schwert unters Volk zu bringen, sondern mit Kalorien.

                        </p>
                        <div class="BusinessCard__EntryDetailsOtherData-sc-1voivxq-8 jMoKGe">
                            <div id="details_homepage_ctnr">
                                <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="globe-africa" class="svg-inline--fa fa-globe-africa fa-w-16 BusinessCard__FontAwesomeIconElement-sc-1voivxq-0 cGRUjF" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512">
                                    <path fill="currentColor" d="M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm160 215.5v6.93c0 5.87-3.32 11.24-8.57 13.86l-15.39 7.7a15.485 15.485 0 0 1-15.53-.97l-18.21-12.14a15.52 15.52 0 0 0-13.5-1.81l-2.65.88c-9.7 3.23-13.66 14.79-7.99 23.3l13.24 19.86c2.87 4.31 7.71 6.9 12.89 6.9h8.21c8.56 0 15.5 6.94 15.5 15.5v11.34c0 3.35-1.09 6.62-3.1 9.3l-18.74 24.98c-1.42 1.9-2.39 4.1-2.83 6.43l-4.3 22.83c-.62 3.29-2.29 6.29-4.76 8.56a159.608 159.608 0 0 0-25 29.16l-13.03 19.55a27.756 27.756 0 0 1-23.09 12.36c-10.51 0-20.12-5.94-24.82-15.34a78.902 78.902 0 0 1-8.33-35.29V367.5c0-8.56-6.94-15.5-15.5-15.5h-25.88c-14.49 0-28.38-5.76-38.63-16a54.659 54.659 0 0 1-16-38.63v-14.06c0-17.19 8.1-33.38 21.85-43.7l27.58-20.69a54.663 54.663 0 0 1 32.78-10.93h.89c8.48 0 16.85 1.97 24.43 5.77l14.72 7.36c3.68 1.84 7.93 2.14 11.83.84l47.31-15.77c6.33-2.11 10.6-8.03 10.6-14.7 0-8.56-6.94-15.5-15.5-15.5h-10.09c-4.11 0-8.05-1.63-10.96-4.54l-6.92-6.92a15.493 15.493 0 0 0-10.96-4.54H199.5c-8.56 0-15.5-6.94-15.5-15.5v-4.4c0-7.11 4.84-13.31 11.74-15.04l14.45-3.61c3.74-.94 7-3.23 9.14-6.44l8.08-12.11c2.87-4.31 7.71-6.9 12.89-6.9h24.21c8.56 0 15.5-6.94 15.5-15.5v-21.7C359.23 71.63 422.86 131.02 441.93 208H423.5c-8.56 0-15.5 6.94-15.5 15.5z"></path>
                                </svg><a id="details_homepage" href="http://veganinheidelberg.de/" target="_blank" class="BusinessCard__EntryLink-sc-1voivxq-4 dfFoLf">veganinheidelberg.de</a></div>
                            <div id="details_email_ctnr">
                                <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="envelope" class="svg-inline--fa fa-envelope fa-w-16 BusinessCard__FontAwesomeIconElement-sc-1voivxq-0 cGRUjF" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                    <path fill="currentColor" d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path>
                                </svg><a id="details_email" href="mailto:mail@veganinheidelberg.de" class="BusinessCard__EntryLink-sc-1voivxq-4 dfFoLf">mail@veganinheidelberg.de</a></div>
							<div id="details_telephone_ctnr">
								<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="phone" class="svg-inline--fa fa-phone fa-w-16 fa-null fa-rotate-null fa-pull-null BusinessCard__FontAwesomeIconElement-sc-1voivxq-0 cGRUjF" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
									<path fill="currentColor" d="M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"></path>
								</svg><a id="details_telephone" href="tel:" class="BusinessCard__EntryLink-sc-1voivxq-4 dfFoLf"> </a></div>
                          <div class="address pure-g">
                            <div>
                                    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="map-marker-alt" class="svg-inline--fa fa-map-marker-alt fa-w-12 pure-u-2-24 BusinessCard__FontAwesomeIconElement-sc-1voivxq-0 cGRUjF" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
                                        <path fill="currentColor" d="M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"></path>
                                    </svg>
                                    <div class="pure-u-21-24 BusinessCard__AddressWrapper-sc-1voivxq-1 izdaQz">
                                        <div class="pure-u-22-24 AddressLine-krxwf9-0"><span id="details_street">Emil-Maier-Straße 16</span><span class="delimiter">, </span><span id="details_zip">69115</span><span class="delimiter"> </span><span id="details_city">Heidelberg</span><br/><span id="details_country">DE</span></div>
                                    </div>
                                </div>
                                <div>
                                    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="route" class="svg-inline--fa fa-route fa-w-16 BusinessCard__FontAwesomeIconElement-sc-1voivxq-0 cGRUjF" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                        <path fill="currentColor" d="M416 320h-96c-17.6 0-32-14.4-32-32s14.4-32 32-32h96s96-107 96-160-43-96-96-96-96 43-96 96c0 25.5 22.2 63.4 45.3 96H320c-52.9 0-96 43.1-96 96s43.1 96 96 96h96c17.6 0 32 14.4 32 32s-14.4 32-32 32H185.5c-16 24.8-33.8 47.7-47.3 64H416c52.9 0 96-43.1 96-96s-43.1-96-96-96zm0-256c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zM96 256c-53 0-96 43-96 96s96 160 96 160 96-107 96-160-43-96-96-96zm0 128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"></path>
                                    </svg><a id="details_route" title="Hinfinden mit Graphhopper Maps" href="https://graphhopper.com/maps/?point=&amp;point=Emil-Maier-Straße 16+69115+Heidelberg&amp;locale=de-DE&amp;vehicle=bike&amp;weighting=fastest&amp;elevation=false&amp;use_miles=false&amp;layer=Omniscale" target="_blank" class="BusinessCard__EntryLink-sc-1voivxq-4 dfFoLf pure-u">Routenplaner</a></div>
                            </div>
                            <div class="BusinessCard__TagsWrapper-sc-1voivxq-9 bPTTLN">
                                <ul class="BusinessCard__TagList-sc-1voivxq-10 eHjMJU" id="details_tags">
                                    <li id="details_tag" class="BusinessCard__Tag-sc-1voivxq-11 cmEprd"><a id="details_tagname" class="BusinessCard__TagLink-sc-1voivxq-12 sQaea">#vegan</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="Ratings__RatingsWrapper-sc-1igczor-4 igfNBZ">
                    <div class="Ratings__FlowerWrapper-sc-1igczor-15 eCOAjZ">
                        <div>
                            <svg width="84" height="84">
                                <g transform="translate(42,42)">
                                    <circle cx="0" cy="0" r="41" fill="#fff" stroke="#ccc" stroke-width="0.5"></circle>
                                    <g>
                                        <path id="details_flower_diversity" d="M 0,0 C 0,0 13.16,17.465200000000003 13.16,24.44 13.16,31.4148 6.9748,37.6 0,37.6 -6.9748,37.6 -13.16,31.4148 -13.16,24.44 -13.16,17.465200000000003 0,0 0,0 Z" fill="rgb(151,  191,  13 )" transform="translate(2.4,0)       rotate(-90)       scale(0.766)" data-tip="<h3>Natürlichkeit</h3><p>Ökologische Vielfalt, Bio, wenige Zusatzstoffe etc.</p>" data-html="true" currentItem="false"></path>
                                        <path id="details_flower_renewable" d="M 0,0 C 0,0 13.16,17.465200000000003 13.16,24.44 13.16,31.4148 6.9748,37.6 0,37.6 -6.9748,37.6 -13.16,31.4148 -13.16,24.44 -13.16,17.465200000000003 0,0 0,0 Z" fill="rgb(255,  221,  0 )" transform="translate(1.2000000000000002,2.0784609690826525)       rotate(-30)       scale(0.59)" data-tip="<h3>Erneuerbarkeit</h3><p>Umweltschutz, kurze Transportwege, effizienter/geringer Einsatz von Rohstoffen und Energie, Circular Economy etc.</p>" data-html="true" currentItem="false"></path>
                                        <path id="details_flower_fairness" d="M 0,0 C 0,0 13.16,17.465200000000003 13.16,24.44 13.16,31.4148 6.9748,37.6 0,37.6 -6.9748,37.6 -13.16,31.4148 -13.16,24.44 -13.16,17.465200000000003 0,0 0,0 Z" fill="rgb(229,  98,   146)" transform="translate(-1.1999999999999995,2.078460969082653)       rotate(30)       scale(0.59)" data-tip="<h3>Fairness</h3><p>Sichere, inklusive, faire und angemessene Arbeitsbedingungen in der gesamten Wertschöpfungskette.</p>" data-html="true" currentItem="false"></path>
                                        <path id="details_flower_humanity" d="M 0,0 C 0,0 13.16,17.465200000000003 13.16,24.44 13.16,31.4148 6.9748,37.6 0,37.6 -6.9748,37.6 -13.16,31.4148 -13.16,24.44 -13.16,17.465200000000003 0,0 0,0 Z" fill="rgb(170,  56,   108)" transform="translate(-2.4,2.9391523179536476e-16)       rotate(90)       scale(0.59)" data-tip="<h3>Menschlichkeit</h3><p>Haben alle Beteiligten Freiraum für eigene Ideen, Weiterentwicklung und kulturelle Vielfalt? Gibt es Mitbestimmungsrechte und demokratische Prozesse?</p>" data-html="true" currentItem="false"></path>
                                        <path id="details_flower_transparency" d="M 0,0 C 0,0 13.16,17.465200000000003 13.16,24.44 13.16,31.4148 6.9748,37.6 0,37.6 -6.9748,37.6 -13.16,31.4148 -13.16,24.44 -13.16,17.465200000000003 0,0 0,0 Z" fill="rgb(100,  122,  133)" transform="translate(-1.200000000000001,-2.078460969082652)       rotate(150)       scale(0.59)" data-tip="<h3>Transparenz</h3><p>Sind Produktions-, Finanzierungs- und Handelsketten öffentlich nachvollziehbar? </p>" data-html="true" currentItem="false"></path>
                                        <path id="details_flower_solidarity" d="M 0,0 C 0,0 13.16,17.465200000000003 13.16,24.44 13.16,31.4148 6.9748,37.6 0,37.6 -6.9748,37.6 -13.16,31.4148 -13.16,24.44 -13.16,17.465200000000003 0,0 0,0 Z" fill="rgb(0,    153,  173)" transform="translate(1.2000000000000002,-2.0784609690826525)       rotate(210)       scale(0.59)" data-tip="<h3>Solidarität</h3><p>Kooperative Arbeitsweise, Finanzierung und Investitionen nachhaltig und ethisch, zugänglich für jeden Geldbeutel etc.</p>" data-html="true" currentItem="false"></path>
                                    </g>
                                </g>
                            </svg>
                            <div class="__react_component_tooltip place-bottom type-dark " data-id="tooltip"></div>
                        </div>
                    </div>
                    <div class="Ratings__HeadingWrapper-sc-1igczor-9 cJWJBB">
                        <h3>Bewertungen</h3>
                        <div class="Ratings__AdditionalRatingButtonWrapper-sc-1igczor-5 csghfS">
                            <button class="Ratings__AdditionalRatingButton-sc-1igczor-6 jeBEmU">Bewertung abgeben</button>
                        </div>
                    </div>
                    <div id="rating_diversity">
                        <div class="Ratings__RatingContextWrapper-sc-1igczor-16 huONCp">
                            <h5 class="Ratings__RatingContextHeading-sc-1igczor-12 hDxVbP"><span style="color: rgb(151, 191, 13);">Natürlichkeit</span></h5>
                            <div class="Ratings__LeafWrapper-sc-1igczor-17 bMjhDx">
                                <svg width="35" height="35">
                                    <g transform="translate(17.5,35)">
                                        <path id="details_rating_diversity"  d="M 0,0 C 0,0 12.25,16.2575 12.25,22.75 12.25,29.2425 6.492500000000001,35 0,35 -6.492500000000001,35 -12.25,29.2425 -12.25,22.75 -12.25,16.2575 0,0 0,0 Z" fill="rgb(151,  191,  13 )" transform="rotate(180) scale(1.0)" data-html="true"></path>
                                    </g>
                                </svg>
                            </div>
                            <ul class="Ratings__RatingListForContext-sc-1igczor-11 cILtHD">
                                <li id="details_ratings_diversity">
                                </li>
                                <li id="rating_example">
                                    <div id="template_rating" class="Ratings__RatingWrapper-sc-1igczor-0 heoUoh">
                                        <div class="Ratings__RatingTitleWrapper-sc-1igczor-2 brkfCq"><span id="rating_value">von morgen:</span><span id="rating_title" class="Ratings__RatingTitle-sc-1igczor-1 fzimZc">Tierlieb</span></div>
                                        <ul class="Ratings__RatingCommentList-sc-1igczor-13 hbRbhO">
                                            <li id="details_rating_comments">
                                                <div id="template_rating_text" class="comment">Wir kochen, wir backen, wir essen. Wir reden, wir trinken, wir essen. Wir lachen, wir grillen, wir essen. Wir tanzen (nicht so oft, weil wir gerade gegessen haben). Wir machen Exkursionen zu Orten, an denen wir – Sie haben es vielleicht bereits erraten – essen. Wir ärgern uns mit Alltäglichem herum, gehen zur Arbeit oder studieren, bezahlen unsere Rechnungen, erziehen unsere Kinder und fragen uns, ob die Menschheit sich wirklich wie die Axt im Wald verhalten darf, nur weil sie es zweifellos kann</div>
                                            </li>
                                        </ul>
                                        <div class="Ratings__SourceWrapper-sc-1igczor-3 kXplOr"><span>  <a id="rating_source" target="_blank" href="http://veganinheidelberg.de/" class="Ratings__Link-sc-1igczor-18 iKPAZe">Quelle</a> </span></div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div id="rating_renewable">
                        <div class="Ratings__RatingContextWrapper-sc-1igczor-16 huONCp">
                            <h5 class="Ratings__RatingContextHeading-sc-1igczor-12 hDxVbP"><span style="color: rgb(255,  221,  0 );">Erneuerbarkeit</span></h5>
                            <div class="Ratings__LeafWrapper-sc-1igczor-17 bMjhDx">
                                <svg width="35" height="35">
                                    <g transform="translate(17.5,35)">
                                        <path id="details_rating_renewable"  d="M 0,0 C 0,0 12.25,16.2575 12.25,22.75 12.25,29.2425 6.492500000000001,35 0,35 -6.492500000000001,35 -12.25,29.2425 -12.25,22.75 -12.25,16.2575 0,0 0,0 Z" fill="rgb(255,  221,  0 )" transform="rotate(180) scale(1.0)" data-html="true"></path>
                                    </g>
                                </svg>
                            </div>
                            <ul class="Ratings__RatingListForContext-sc-1igczor-11 cILtHD">
                                <li id="details_ratings_renewable"></li>
                            </ul>
                        </div>
                    </div>
                    <div id="rating_fairness">
                        <div class="Ratings__RatingContextWrapper-sc-1igczor-16 huONCp">
                            <h5 class="Ratings__RatingContextHeading-sc-1igczor-12 hDxVbP"><span style="color: rgb(229,  98,   146);">Fairness</span></h5>
                            <div class="Ratings__LeafWrapper-sc-1igczor-17 bMjhDx">
                                <svg width="35" height="35">
                                    <g transform="translate(17.5,35)">
                                        <path  id="details_rating_fairness" d="M 0,0 C 0,0 12.25,16.2575 12.25,22.75 12.25,29.2425 6.492500000000001,35 0,35 -6.492500000000001,35 -12.25,29.2425 -12.25,22.75 -12.25,16.2575 0,0 0,0 Z" fill="rgb(229,  98,   146)" transform="rotate(180) scale(1.0)" data-html="true"></path>
                                    </g>
                                </svg>
                            </div>
                            <ul class="Ratings__RatingListForContext-sc-1igczor-11 cILtHD">
                                <li id="details_ratings_fairness"></li>
                            </ul>
                        </div>
                    </div>
                    <div id="rating_humanity">
                        <div class="Ratings__RatingContextWrapper-sc-1igczor-16 huONCp">
                            <h5 class="Ratings__RatingContextHeading-sc-1igczor-12 hDxVbP"><span style="color: rgb(170,  56,   108);">Menschlichkeit</span></h5>
                            <div class="Ratings__LeafWrapper-sc-1igczor-17 bMjhDx">
                                <svg width="35" height="35">
                                    <g transform="translate(17.5,35)">
                                        <path id="details_rating_humanity" d="M 0,0 C 0,0 12.25,16.2575 12.25,22.75 12.25,29.2425 6.492500000000001,35 0,35 -6.492500000000001,35 -12.25,29.2425 -12.25,22.75 -12.25,16.2575 0,0 0,0 Z" fill="rgb(170,  56,   108)" transform="rotate(180) scale(1.0)" data-html="true"></path>
                                    </g>
                                </svg>
                            </div>
                            <ul class="Ratings__RatingListForContext-sc-1igczor-11 cILtHD">
                                <li id="details_ratings_humanity"></li>
                            </ul>
                        </div>
                    </div>
                    <div id="rating_transparency">
                        <div class="Ratings__RatingContextWrapper-sc-1igczor-16 huONCp">
                            <h5 class="Ratings__RatingContextHeading-sc-1igczor-12 hDxVbP"><span style="color: rgb(100,  122,  133);">Transparenz</span></h5>
                            <div class="Ratings__LeafWrapper-sc-1igczor-17 bMjhDx">
                                <svg width="35" height="35">
                                    <g transform="translate(17.5,35)">
                                        <path id="details_rating_transparency" d="M 0,0 C 0,0 12.25,16.2575 12.25,22.75 12.25,29.2425 6.492500000000001,35 0,35 -6.492500000000001,35 -12.25,29.2425 -12.25,22.75 -12.25,16.2575 0,0 0,0 Z" fill="rgb(100,  122,  133)" transform="rotate(180) scale(1.0)" data-html="true"></path>
                                    </g>
                                </svg>
                            </div>
                            <ul class="Ratings__RatingListForContext-sc-1igczor-11 cILtHD">
                                <li id="details_ratings_transparency"></li>
                            </ul>
                        </div>
                    </div>
                    <div id="rating_solidarity">
                        <div class="Ratings__RatingContextWrapper-sc-1igczor-16 huONCp">
                            <h5 class="Ratings__RatingContextHeading-sc-1igczor-12 hDxVbP"><span style="color: rgb(0,    153,  173);">Solidarität</span></h5>
                            <div class="Ratings__LeafWrapper-sc-1igczor-17 bMjhDx">
                                <svg width="35" height="35">
                                    <g transform="translate(17.5,35)">
                                        <path id="details_rating_solidarity" d="M 0,0 C 0,0 12.25,16.2575 12.25,22.75 12.25,29.2425 6.492500000000001,35 0,35 -6.492500000000001,35 -12.25,29.2425 -12.25,22.75 -12.25,16.2575 0,0 0,0 Z" fill="rgb(0,    153,  173)" transform="rotate(180) scale(1.0)" data-html="true"></path>
                                    </g>
                                </svg>
                            </div>
                            <ul class="Ratings__RatingListForContext-sc-1igczor-11 cILtHD">
                                <li id="details_ratings_solidarity"></li>
                            </ul>
                        </div>
                    </div>


                </div>
                <div class="SidebarFooter__FooterWrapper-sc-1e1c5s-0 ijISYL">
                    <div class="SidebarFooter__MetaFoot-sc-1e1c5s-1 eRNWYu"><a href="mailto:report@kartevonmorgen.org?subject=Eintrag melden&amp;body=%0D%0AMit dem Eintrag  «Vegan in Heidelberg e. V.»%0D%0A (https%3A%2F%2Fkartevonmorgen.org%2F%23%2F%3Fentry%3D96232aa0f714489ebc6d804d20f388b9%26zoom%3D15.00)%0D%0A  gibt es folgendes Problem:%0D%0A%0D%0A"><b>Diesen Eintrag melden</b></a><span><a title="27.4.2018, 17:53:45">Letzte Änderung: 336 Tage her // v0</a></span></div>
                </div>
            </div>

            <nav class="AddEntryButton">
                <li class="pure-u-1 NavButton">
                    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="svg-inline--fa fa-plus fa-w-14 NavButton__Icon-sc-1qs2r2q-1 gleiBQ" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                        <path fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path>
                    </svg>Eintrag hinzufügen</li>
            </nav>
        </div>
    </div>
    <div class="HideSidebar">
        <button>
            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="caret-left" class="svg-inline--fa fa-caret-left fa-w-6 App__ToggleLeftSidebarIcon-sc-1x77ogt-1 bVtZdE" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 512">
                <path fill="currentColor" d="M192 127.338v257.324c0 17.818-21.543 26.741-34.142 14.142L29.196 270.142c-7.81-7.81-7.81-20.474 0-28.284l128.662-128.662c12.599-12.6 34.142-3.676 34.142 14.142z"></path>
            </svg>
        </button>
    </div>
</div>
</div>

<div id="overMap" style="display:hidden;">
    <div style="text-align:center;">
        <button id="_btnInitiative" class="active" onclick="toggleCat('Initiative')">Initiativen</button>
        <button id="_btnEvent" class="active" onclick="toggleCat('Event')">Events</button>
        <button id="_btnUnternehmen" class="active" onclick="toggleCat('Unternehmen')">Unternehmen</button>
        <button id="_btnOpenStreetMap" class="active" onclick="toggleCat('OpenStreetMap')">OpenStreetMap</button>
    </div>
    <form class="searchForm">
        <span>WO:</span>
        <input id="city" type="text" name="city"
               placeholder="Ort / Stadt / PLZ" onchange="gotoCity();"/>
        <button onclick="gotoCity(); event.preventDefault; return false;">Go</button>
        <button onclick="geolocate(); event.preventDefault; return false;">GPS</button>
        <button onclick="toggleMenu(); event.preventDefault; return false;" class="right">Menu</button>
    </form>

    <div id="cities">

    </div>

    <form class="searchForm">
        <span>WAS:</span>
        <input id="_text" type="text" name="text"
               placeholder="Suchbegriff, leer = Alle" onchange="find();"/>
        <button id="findBtn" onclick="find(); event.preventDefault; return false;" >Finde</button>
        <button id="mapBtn" onclick="toggleMap();event.preventDefault; return false;" class="right">Karte</button>
    </form>


    <div id="_overMapScroll" class="scroll_ctnr">
    <div id="_details" style="display:none;">

        <div class="back">
            <a href="#"
               onclick="document.getElementById('details').style.display = 'none';scrollBack();event.preventDefault();location.hash=location.hash?location.hash.replace(/^[^;]*;/,';'):'';return false;">[ &lt;&lt;&lt; ] ZURÜCK</a>
        </div>
        <div class="back">
            <a href="#" onclick="document.getElementById('details').style.display = 'none';scrollBack();event.preventDefault();location.hash=location.hash?location.hash.replace(/^[^;]*;/,';'):'';return false;">[ &lt;&lt;&lt; ] ZURÜCK</a>
        </div>
    </div>
    <div id="_result" class="result_ctnr">

        </div>

        <div id="openstreetmap" class="result_ctnr">

        </div>
    </div>
    <div id="ovl_wheel">lade...</div>

    <div id="ovl_wait">
      <span>
        <div id="ovl_wait_msg">lade Daten...</div>
        <div id="ovl_wait_btn">
            <button onclick="cancel();">Abbrechen</button>
        </div>
      </span>
    </div>

<div id="overMapBottom" class="bottomCtnr">
    <div class="footerBtnCtnr">
        <button onclick="location.href='edit.html';">Neuen Eintrag hinzufügen...</button>
    </div>
    <div class="footerBtnCtnr">
        <button id="btnInitMap" onclick="initMap();">Karte aktivieren...</button>
    </div>
    <div class="footerBtnCtnr">
        <a href="imprint.html">Impressum</a>
    </div>

</div>
<div id="menu" style="display:none;">
    <div>
        <div><strong>Map Style:</strong></div>
        <a href="#"
           onclick="setMapProvider('OpenStreetMap.DE');toggleMenu();event.preventDefault();return false;" style="display:block;padding:5px 0;margin:5px 0;">Schnell (Empfohlen)</a>
        <a href="#" onclick="setMapProvider('OpenStreetMap.Mapnik');toggleMenu();event.preventDefault();return false;" style="display:block;padding:5px 0;margin:5px 0;">Verschlüsselt</a>
        <a href="#" onclick="setMapProvider('Esri.WorldImagery', 'MapQuestOpen.HybridOverlay');toggleMenu();event.preventDefault();return false;" style="display:block;padding:5px 0;margin:5px 0;">Luftbild</a>
        <a href="#" onclick="setMapProvider('Stamen.Watercolor', 'Stamen.TonerHybrid');toggleMenu();event.preventDefault();return false;" style="display:block;padding:5px 0;margin:5px 0;">Wasserfarbe</a>
        <a href="#" onclick="setMapProvider('Thunderforest.Transport');toggleMenu();event.preventDefault();return false;" style="display:block;padding:5px 0;margin:5px 0;">Bahn und Buslinien</a>
        <a href="#" onclick="setMapProvider('Thunderforest.OpenCycleMap');toggleMenu();event.preventDefault();return false;" style="display:block;padding:5px 0;margin:5px 0;">Fahrrad-Wege</a>
        <a href="#" onclick="setMapProvider('OpenMapSurfer.Roads');toggleMenu();event.preventDefault();return false;" style="display:block;padding:5px 0;margin:5px 0;">Symbol-Beschriftung</a>

    </div>
    <div>
        <div><strong>OpenStreetMap:</strong></div>
        <a id="menuPoi" href="#" onclick="togglePoi();toggleMenu();event.preventDefault();return false;" style="display:block;padding:5px 0;margin:5px 0;font-weight:bold;">Anklickbare Symbole (heranzoomen)</a>
        <a id="menuPoiName" href="#" onclick="togglePoiWithoutName();toggleMenu();event.preventDefault();return false;"
           style="display:block;padding:5px 0;margin:5px 0;">Symbole ohne Name klickbar (WC,..)</a>
    </div>
    <div>
        <div><strong>Bearbeiten:</strong></div>
        <a id="menuNew" href="edit.html" style="display:block;padding:5px 0;margin:5px 0;font-weight:bold;">Neuen Eintrag hinzufügen...</a>
        <a id="menuImprint" href="imprint.html">Impressum</a>
    </div>
</div>

<!-- CORE SEARCH FUNCTION -->
<script type="text/javascript">

    /* CORE SEARCH FUNCTION */

    var srv = "https://api.ofdb.io/v0/";

    var city = "Stuttgart";
    var lat = 48.75;
    var lon = 9.2;
    var bbox = [lat - 0.1, lon - 0.12, lat + 0.1, lon + 0.12];

    var backScrollY = 0;

    var categories = {};

    var searchResultOrig = [];
    var searchResult = [];

    var cache = {};

    var displayDetailsOnload = false;
    var ratingTypes = {diversity:"rgb(151,  191,  13 )",fairness:"rgb(255,  221,  0 )",humanity:"rgb(229,  98,   146)",renewable:"rgb(170,  56,   108)",solidarity:"rgb(100,  122,  133)",transparency:"rgb(0,    153,  173)"};

    window.onload = function() {initMap();};

    function find() {
        if (showWait()) {
            if ((!categories) || (!categories.length) || categories.length == 0) {
                getCategories(doFind);
            } else {
                doFind();
            }
        }
        findOsm();
    }

    function doFind() {
        var xhttp = new XMLHttpRequest();
        showWait(null, xhttp);
        xhttp.onreadystatechange = function() {
            if (xhttp.readyState == 4) {
                if (xhttp.status == 200) {
                    searchResultOrig = JSON.parse(xhttp.responseText);
                    searchResult={'visible':[],'invisible':[]};
                    var totalCount = 0;
                    for (e in searchResultOrig['visible']) {
                        totalCount++;
                        if(totalCount <= 200) {
                                searchResult['visible'][e]=searchResultOrig['visible'][e].id;
                        }
                    }
                    for (e in searchResultOrig['invisible']) {
                        totalCount++;
                        if (totalCount <= 200){
                                searchResult['invisible'][e]=searchResultOrig['invisible'][e].id;
                        }
                    }

                    /*var uncached = extract_uncached(searchResult['visible']);
                    var uncached2 = extract_uncached(searchResult['invisible']);
                    if (uncached2 && uncached2.length > 0) {
                        uncached.push(uncached2);
                    }
                    if (uncached && uncached.length > 0) {
                        getResults(uncached, displaySearchResult);
                    } else {*/
                        displaySearchResult();
                        hideWait();/*
                    }*/
                } else {
                    hideWait('Internet Verbindung.');
                }
            }
        };
        xhttp.open("GET", srv
                + "search?text="
                + encodeURIComponent(document.getElementById('text').value)
                + "&categories="
                + extract_keys_not_disabled(categories).join(',')
                + "&bbox="
                + bbox.join(',')
                , true);
        xhttp.send();
    }

    function displaySearchResult() {
        var resultCtnr = document.getElementById('results_visible');
        resultCtnr.innerHTML = '';

        displayResultList(resultCtnr, searchResultOrig['visible']);
        
        resultCtnr = document.getElementById('results_invisible');
        resultCtnr.innerHTML = '';
        displayResultList(resultCtnr, searchResultOrig['invisible']);

        if (displayDetailsOnload) {
            displayDetails(displayDetailsOnload);
            displayDetailsOnload = false;
        }

        removeUnnecessaryMapMarkers();
    }

    function displayResultList(ctnr, entries) {
        for(var e in entries) {
	        doDisplayResultListEntry(ctnr, entries[e]);
        }
    }


    function doDisplayResultListEntry(resultsCtnr, entry) {
/*{"0":{"id":"4c20979fe0754e74875afa4308d73ce7","lat":48.720333561636664,"lng":9.152239220753424,
	"title":"slowtec GmbH","description":"long long test","categories":["77b3c33a92554bcf8e8c2c86cedd6f6f"],
	"tags":["assoziativ","ie-stationsidee","ingenieurbüro","initiativ-kolloquium2","kartevonmorgen","linux","new-work","open-source","potentialentfaltung","regelungstechnik","regpis","selbstgeführt","smart-lowtec","socent","software","sozialezukunft","soziokratie","teal-organization","transforming-capitalism-lab","urbane-landwirtschaft"],
	"ratings":{"total":1.25,"diversity":2,"fairness":0,"humanity":2,"renewable":1.5,"solidarity":0,"transparency":2}}}
*/
        var ctnr0 = document.getElementById('template_result').cloneNode(true);
        ctnr0.removeAttribute('id');
        ctnr0.setAttribute('class', categories[entry.categories[0]].name.toLowerCase().replace('unternehmen', 'company') + ' ResultListElement');
        
        setInnerTextOfChildWithIdAndRemoveId(ctnr0, 'result_category', categories[entry.categories[0]].name);
        setInnerTextOfChildWithIdAndRemoveId(ctnr0, 'result_title', entry.title);
        setInnerTextOfChildWithIdAndRemoveId(ctnr0, 'result_description', entry.description);
        
		updateRatingFlower(entry, ctnr0, 'result_rating_', true);
        
        var tagCtnr = findChildWithId(ctnr0, 'result_tags');
        if (tagCtnr) {
        	tagCtnr.removeAttribute('id');
        	tagCtnr.innerHTML = '';
        	var first = true;
        	for (var t in entry.tags) {
        		if (first) {
        			first = false;
        		} else {
        			tagCtnr.appendChild(document.createTextNode(' '));
        		}
        		var div = document.createElement('DIV');
        		div.setAttribute('class', 'Tag');
        		div.innerText = '#' + entry.tags[t];
        		tagCtnr.appendChild(div);
        	}
        }
        		
        ctnr0.onclick = createShowFunc(ctnr0, entry.id);
        
        ctnr0.onmouseenter = createHoverFunc(entry.id, true);
        ctnr0.onmouseleave = createHoverFunc(entry.id, false);

        resultsCtnr.appendChild(ctnr0);

        addMapMarker(entry);
    }
    
    function createHoverFunc(entryId, open) {
    	return function() {
            if (mapMarkers && mapMarkers[entryId]) {
            	if (open) {
                	mapMarkers[entryId].openPopup();
            	} else {
            		mapMarkers[entryId].closePopup();
            	}
            }
        }    	
    }
    
    function updateRatingFlower(entry, ctnr0, prefix, removeId) {
        for (var type in ratingTypes) {
        	var rating = entry.ratings[type];
       		var flower = findChildWithId(ctnr0, prefix + type);
            if (flower) {
            	flower.setAttribute('transform', flower.getAttribute('transform').replace(/scale\([0-9.]+\)/, 'scale(' + ((rating || 1) * 0.49) + ')') );
            	if (removeId) {
            		flower.removeAttribute('id');
            	}
            	if (! rating) {
            		flower.setAttribute('fill', 'rgb(221,  221,  221)');
            	} else if (!removeId) {
            		flower.setAttribute('fill', ratingTypes[type]);
            	}
            }
        }
    }
    
    function setInnerTextOfChildWithIdAndRemoveId(ctnr1, id, innerTxt) {
        var elem = findChildWithId(ctnr1, id);
        if (elem) {
        	elem.innerText = innerTxt;
			elem.removeAttribute('id');
        } else {
        	console.log(id + ' not found in ');
        	console.log(ctnr1);
        }
    }
    
    function findChildWithId(ctnr2, id) {
    	for (var i = 0; i < ctnr2.children.length; i++) {
    		if (ctnr2.children[i].id == id) {
    			return ctnr2.children[i];
    		}
    		if (ctnr2.children[i].firstChild) {
    			var child = findChildWithId(ctnr2.children[i], id);
    			if (child) {
    				return child;
    			}
    		}
    	}
    	return null;
    }

    function createShowFunc(ctnr, id) {
        return function (event) {
            backScrollY = document.getElementById('overMapScroll').scrollTop;
            window.setTimeout(function () {
                displayDetails(id);
            }, 11);
            event.preventDefault();
            return false;
        };
    }

    function scrollBack() {
    	document.getElementById('overMapScroll').style.display='block';
        /*if ((backScrollY && backScrollY >= 0) || backScrollY === 0) {
            window.setTimeout(function () {
                document.getElementById('overMapScroll').style.display='block';//.scrollTo(0, backScrollY);
                backScrollY = null;
            }, 11);
        } else if (backScrollY === null) {
            toggleMap();
        }*/
    }


    function getResults(ids, callback) {
        if (ids && ids[0] && ids[0].match && ids[0].match(/^osm_.*/)) {
            return getOsmResults(ids, callback);
        }
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (xhttp.readyState == 4) {
                if (xhttp.status == 200) {
                    var entries = JSON.parse(xhttp.responseText);
                    if (entries) {
                        if(entries.id && entries.title) {
                            cache[entries.id] = entries;
                        } else {
                            for(var e in entries) {
                                cache[entries[e].id] = entries[e];
                            }
                        }
                        callback(ids);
                    }
                    hideWait();
                } else {
                    hideWait('Internet Verbindung.');
                }
            }
        };
        showWait(null, xhttp);
        xhttp.open("GET", srv + 'entries/' + ids.join(','), true);
        xhttp.send();
    }

    function getCategories(callback) {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (xhttp.readyState == 4 && xhttp.status == 200) {
                var res = JSON.parse(xhttp.responseText);
                if (res) {
                    for (r in res) {
                        if (res[r] && res[r].id) {
                            if (!categories[res[r].id]) {
                                if(!categories.length) {
                                    categories.length = 1;
                                } else {
                                    categories.length = categories.length + 1;
                                }
                            }
                            categories[res[r].id] = res[r];
                        }
                    }
                }
                callback();
            }
        };
        xhttp.open("GET", srv + "categories/" , true);
        xhttp.send();
    }
    
    function getRatings(ratingIds, callback) {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (xhttp.readyState == 4 && xhttp.status == 200) {
            	var res = JSON.parse(xhttp.responseText);
            	if (res && res.length > 0) {
	            	callback(res);
            	}
            }
        }
        xhttp.open("GET", srv + "ratings/" + ratingIds.join(), true);
        xhttp.send();
    }

    function extract_keys_not_disabled(obj) {
        var res = [];
        for (e in obj) {
            if ((!obj[e]) || !obj[e].disabled) {
                res.push(e);
            }
        }
        return res;
    }

    function extract_uncached(ary) {
        var res = [];
        if (ary) {
            for (e in ary) {
                if (!cache[ary[e]]) {
                    res.push(ary[e]);
                }
            }
        }
        return res;
    }

    function toggleCat(categoryName) {
        if (categoryName == 'OpenStreetMap') {
            osmEnabled = !osmEnabled;
            toggleClass('btn'+categoryName, 'active', osmEnabled);
            if ((!osmEnabled) || (bbox && bbox.length == 4 &&
                    Math.abs(bbox[2] - bbox[0]) <= 0.201 && Math.abs(bbox[3] - bbox[1]) <= 0.241)) {
                findOsm();
            } else {
                alert('Bitte Karten zeigen und NÄHER ZOOMEN, um Open Street Map Einträge zu zeigen. (Die OpenstreetMap-API ist zu langsam, um große Regionen abzufragen).');
            }
            if (osmEnabled) {
                if (!isMapInFront()) {
                    document.getElementById('openstreetmap').scrollIntoView();
                }
            }
        } else if ((!categories) || (!categories.length) || categories.length == 0) {
            getCategories(function () {
                doToggleCat(categoryName)
            });
        } else {
            doToggleCat(categoryName);
        }
    }

    function doToggleCat(categoryName) {
        for (c in categories) {
            if (categories[c].name == categoryName) {
                if (categories[c].disabled) {
                    categories[c].disabled = false;
                } else {
                    categories[c].disabled = true;
                }
                toggleClass('btn'+categoryName, 'active', !categories[c].disabled);
                find();
            }
        }
    }

    function toggleClass(elemId, className, addClass) {
        var elem = document.getElementById(elemId);
        if (elem) {
            if (addClass) {
                elem.classList.add(className);
            } else {
                elem.classList.remove(className);
            }
        }
    }

</script>


<!-- ENTRY DETAILS VIEW -->
<script type="text/javascript">

    /* ENTRY DETAILS VIEW */

    function displayDetails(id) {
        if (cache[id] == null) {
            getResults([id], doDisplayDetails);
        } else {
            doDisplayDetails([id]);
        }
    }

    function doDisplayDetails(ids) {
        var entry = cache[ids[0]];

        /*      categories: (1) […]
		0: "77b3c33a92554bcf8e8c2c86cedd6f6f"
    city: "Stuttgart"
    country: null
    created: 1549735281
    description: "long long text"
    email: "post@slowtec.de"
    homepage: "http://www.slowtec.de/"
    id: "4c20979fe0754e74875afa4308d73ce7"
    image_link_url: "https://slowtec.de/"
    image_url: "https://slowtec.de/images/slowtec_sinn_voll_entwickeln.png"
    lat: 48.720333561636664
    license: "CC0-1.0"
    lng: 9.152239220753424
    ratings: (5) […]
		0: "3f9859013b404843ba5a64daf48a20d2"
		​​​1: "6a9896d8cd4e45319919f185a84ff015"
		​​​2: "0e65bc0f7a46467a8db1a8a53b76b677"
		​​​3: "f3acab513e2e4a2ab66197a8d4cea3e6"
		​​​4: "281bfdfef8124b3e8b643150fe61daed"
	street: "Friedrichsberg 55"
    tags: (20) […]
		0: "assoziativ"
		​​​1: "ie-stationsidee"
		​​​2: "ingenieurbüro"
	telephone: null
    title: "slowtec GmbH"
    version: 38
    zip: "70567" */
        
        
        
        location.hash = entry.id + ';' + (resultMapObj ? (lat + ',' + lon) : city);

        var detailsCtnr = document.getElementById("details");
      /*  while (detailsCtnr.childElementCount > 2) {
            detailsCtnr.removeChild(detailsCtnr.firstElementChild.nextElementSibling);
        }*/
        detailsCtnr.style.display = "block";

        for (var key in entry) {
    		if (key == 'ratings') {
    			
    			getRatings(entry[key], displayDetailsRatings);         			
    			
    		} else if (key != 'id' && key != 'created' && key != 'lat' && key !=
                    'lon' && key != 'lng' && key != 'version') {
            	
            	var lbl = findChildWithId(detailsCtnr, 'details_' + key);
            	var ctnr = findChildWithId(detailsCtnr, 'details_' + key + '_ctnr');
            	hide(lbl);
            	hide(ctnr);
				if (lbl && entry[key]) {
            		var value = entry[key];
            		
            		if (key == 'categories') {
            			if (entry[key].length > 0) {
            				value = categories[entry[key][0]].name
            				lbl.className = 'iRaMrp ' + categories[entry[key][0]].name.toLowerCase().replace('unternehmen', 'company');
            			}
            		}
					if (key == 'tags') {
                    	var tag = document.getElementById('details_tag');
                    	if (tag) {
	                    	hide(tag);
	                    	lbl.innerHTML = '';
	                    	lbl.appendChild(tag);
		                    for (var v in value) {
		                    	tag2 = tag.cloneNode(true);
		                    	unhide(tag2);
		                    	setInnerTextOfChildWithIdAndRemoveId(tag2, 'details_tagname', '#'+value[v]);
		                    	lbl.appendChild(tag2);
		                    }
                    	}
	                } else {

        				lbl.innerText = value;
        				
	                }
        			
            		if (key == 'homepage') {
            			lbl.href = entry[key].match(/^https?:\/\//) ? entry[key] : ('https://' + encodeURI(entry[key]));
            		}
            		if (key == 'email') {
            			lbl.href = entry[key].match(/^mailto?:/) ? entry[key] : ('mailto:' + encodeURI(entry[key]));
            		}
            		if (key == 'telephone') {
            			lbl.href = entry[key].match(/^mailto?:/) ? entry[key] : ('tel:' + encodeURI(entry[key]));
            		}
            		unhide(lbl);
            		unhide(ctnr);
            	}
            }
        }
        
        var sre = findEntryInCache(entry.id);
        if (sre) {
  			updateRatingFlower(sre, detailsCtnr, 'details_flower_', false);
  			updateRatingFlower(sre, detailsCtnr, 'details_rating_', false);
        }
        
        var lbl = document.getElementById('details_route');
        if (lbl) {
        	lbl.href='https://graphhopper.com/maps/?point='
	        	+ encodeURIComponent(entry.street ? entry.street : '') + '+' + encodeURIComponent(entry.zip ? entry.zip : '') + '+' + encodeURIComponent(entry.city ? entry.city : '') + '+' + encodeURIComponent(entry.country ? entry.country : '')
	        	+ '&amp;locale=de-DE&amp;vehicle=bike&amp;weighting=fastest&amp;elevation=false&amp;use_miles=false&amp;layer=Omniscale';
        }

        var ctnr = document.createElement("DIV");
        if (detailsCtnr.firstElementChild.nextElementSibling.firstChild.className == 'mapLink') {
        	detailsCtnr.removeChild(detailsCtnr.firstElementChild.nextElementSibling);
        }
        detailsCtnr.insertBefore(ctnr,
                detailsCtnr.firstElementChild.nextElementSibling);

        var iMob = navigator.userAgent.indexOf('iPhone') >= 0  || navigator.userAgent.indexOf('iPad') >= 0 || navigator.userAgent.indexOf('iPod') >=0;
        var andy = navigator.userAgent.indexOf('Android') >= 0;
        var winp = navigator.userAgent.indexOf('Windows Phone') >= 0;

        if (iMob || andy || winp) {
            var map = document.createElement('A');
            if (winp) {
                map.href = 'maps:'+entry.lat+','+entry.lng;
            }
            if (andy) {
                map.href = 'geo:'+entry.lat+','+entry.lng;
            }
            if (iMob) {
                map.href = 'http://maps.apple.com?daddr='+entry.lat+','+entry.lng;
            }
            map.innerText = 'Mit Maps-App öffnen'

            var mapCtnr = document.createElement("DIV");
            mapCtnr.appendChild(map);
            mapCtnr.className="maplink";
            ctnr.appendChild(mapCtnr);
        }

        var map2 = document.createElement('A');
        map2.href =
                'http://www.openstreetmap.org/?mlat='+entry.lat+'&mlon='+entry.lng+'&zoom=16&layers=M';
        map2.innerText = 'In Openstreet-Map zeigen';
        map2.target = "_blank";
        map2.className = 'blank';

        var mapCtnr2 = document.createElement("DIV");
        mapCtnr2.appendChild(map2);
        mapCtnr2.className="mapLink";
        ctnr.appendChild(mapCtnr2);

        var edit = document.createElement('BUTTON');
        edit.onclick = function() {location.href='edit.html#'+entry.id};
        edit.innerText = 'Eintrag bearbeiten...';
        ctnr.appendChild(edit);

        document.getElementById('overMapScroll').style.display='none';//.scrollTo(0,1);
        if (mapMarkers && mapMarkers[entry.id]) {
            mapMarkers[entry.id].openPopup();
        }
    }
    
    function findEntryInCache(id){
        for (var e in searchResultOrig['visible']) {
        	if (searchResultOrig['visible'][e].id == id) {
        		return searchResultOrig['visible'][e];
        	}
        }
        for (var e in searchResultOrig['invisible']) {
        	if (searchResultOrig['invisible'][e].id == id) {
        		return searchResultOrig['invisible'][e];
        	}
        }
    }
    
    function displayDetailsRatings(ratings) {
    	var ratingTemplate = document.getElementById('template_rating');
    	hide(ratingTemplate);
    	var commentTemplate = document.getElementById('template_rating_text');
    	hide(commentTemplate);
    	for (rt in ratingTypes) {
        	var ctnr = document.getElementById('details_ratings_' + rt);
        	if (ctnr) {
        		ctnr.innerHTML = '';
        	}
    	}
       	for (r in ratings) {
        	var ctnr = document.getElementById('details_ratings_' + ratings[r].context);
        	if (ctnr) {
	        	var tempRating = ratingTemplate.cloneNode(true);
	        	renderDetailsRating(ratings[r], tempRating, commentTemplate)
	   			ctnr.appendChild(tempRating);
        	}
    	}
    }
    
    function renderDetailsRating(rating, tempRating, commentTemplate) {
    	tempRating.removeAttribute('id');
    	unhide(tempRating);
    	setInnerTextOfChildWithIdAndRemoveId(tempRating, 'rating_title', rating.title);
    	setInnerTextOfChildWithIdAndRemoveId(tempRating, 'rating_value', rating.value < 0 ? 'von gestern' : rating.value == 0 ? 'von heute' : rating.value == 2 ? 'visionär' : 'von morgen');
    	var src = findChildWithId(tempRating, 'rating_source');
    	if (src) {
    		src.removeAttribute('id');
    		if (rating.source) {
    			if (rating.source.trim().toLowerCase().match(/^[a-z][^ <>"']+$/)) {
    				src.href = (rating.source.trim().toLowerCase().match(/^https?:/) ? '' : 'http://') + encodeURI(rating.source.trim());
    			} else {
    				src.href = '#';
    				src.innertText = rating.source;
    			}
    		} else {
    			src.href = '';
    			src.innerText = '';
    			hide(src);
    		}
    	}
    	var comments = findChildWithId(tempRating, 'details_rating_comments');
    	if (comments && rating.comments) {
    		comments.removeAttribute('id');
	    	if (commentTemplate) {
		    	for (c in rating.comments) {
		    		var tempComment = commentTemplate.cloneNode(true);
		    		unhide(tempComment);
		    		tempComment.removeAttribute('id');
		    		tempComment.innerText = rating.comments[c].text;
		    		comments.appendChild(tempComment);
		    	}
	    	}
    	}
    }
    
    function hide (lbl) {
    	if (lbl) {
    		lbl.style.display = 'none';
    	}
    }
    
    function unhide(lbl) {
    	if (lbl) {
			if (lbl.style.removeProperty) { lbl.style.removeProperty('display') } else if (lbl.style.removeAttribute){ lbl.style.removeAttribute('display') } else { lbl.style.display = '' }
    	}
    }

    function capitalizeFirstLetter(string) {
        return string.charAt(0).toUpperCase() + string.slice(1);
    }

</script>


<!-- CITY SEARCH AND SELECTION -->
<script type="text/javascript">

    /*  CITY SEARCH AND SELECTION  */

    function gotoCity(addr) {
        var xhttp = new XMLHttpRequest();
        if (!showWait()) {
            return;
        }
        showWait(null, xhttp);
        xhttp.onreadystatechange = function () {
            if (xhttp.readyState == 4) {
                if (xhttp.status == 200) {
                    displayCities(JSON.parse(xhttp.responseText));
                    hideWait();
                } else {
                    hideWait('Internet Verbindung.');
                }
            }
        };
        xhttp.open("GET",
                'https://nominatim.openstreetmap.org/search' +
                '?format=json&addressdetails=1&q=' +
                (document.getElementById('city').value || !addr ? document.getElementById('city').value : addr) +
                ' DE'
                , true);
        xhttp.send();
    }

    function displayCities(cities) {
        var resultCtnr = document.getElementById('cities');
        while (resultCtnr.childElementCount > 0) {
            resultCtnr.removeChild(resultCtnr.firstElementChild);
        }
        if ((!cities) || cities.length == 0) {
            var title = document.createElement('DIV');
            title.innerText = "Nichts gefunden! Vollständigen Namen oder PLZ eingeben.";
            title.className="title";
            resultCtnr.appendChild(title);
        } else {
            var title = document.createElement('DIV');
            title.innerText = "Stadt auswählen / anklicken:";
            title.className="title";
            resultCtnr.appendChild(title);
            var found = false;
            var foundLat = '';
            var foundLon = '';
            var foundCity = '';
            var mapVisible = isMapInFront();
            for (var e in cities) {
                var city = cities[e];
                if ((city.type == 'administrative' || city.type == 'city' ||
                        city.type == 'town' || city.type == 'village' ||
                        city.type == 'postcode') &&
                        ((!city.address) || (!city.address.country_code) ||
                        city.address.country_code == 'de' ||
                        city.address.country_code == 'DE' ||
                        city.address.country_code == 'De')) {
                    var ctnr = document.createElement('A');

                    if (city.address.city) {
                        ctnr.innerText = city.address.city;
                    }
                    if (city.address.town) {
                        ctnr.innerText += (ctnr.innerText ? ', ' : '') +
                                city.address.town;
                    }
                    if (city.address.village) {
                        ctnr.innerText += (ctnr.innerText ? ', ' : '') +
                                city.address.village;
                    }

                    var myCity = ctnr.innerText || city.display_name;

                    if (((foundLat === '' || foundLat == city.lat) && (foundLon === '' || foundLon == city.lon))
                            || (foundLat && city.lat && Math.round(foundLat*10) == Math.round(city.lat*10) && foundLon && city.long && Math.round(foundLon*10) == Math.round(city.lon*10) && foundCity && myCity && (foundCity.indexOf(myCity)) >= 0 || myCity.indexOf(foundCity) >= 0)
                    ) {
                        foundLat = city.lat;
                        foundLon = city.lon;
                        if(!foundCity) {
                            foundCity = ctnr.innerText;
                        }
                    } else {
                        foundLat = null;
                        foundLon = null;
                        foundCity = null;
                    }

                    if (city.type == 'administrative' && city.address.county) {
                        ctnr.innerText += (ctnr.innerText ? ', ' : '') +
                                'Kreis ' + city.address.county;
                    }
                    else if (city.address.postcode) {
                        if (ctnr.innerText) {ctnr.innerText += ' ' + city.address.postcode}
                        else {ctnr.innerText = city.address.postcode;}
                    }
                    if (!ctnr.innerText) {
                        ctnr.innerText = city.display_name;
                    }

                    ctnr.onclick = createGoto(ctnr.innerText, city.lat, city.lon, mapVisible);


                    ctnr.href = "#";
                    resultCtnr.appendChild(ctnr);
                    found = true;
                }
            }
            if (foundLon && foundLat && foundCity) {
                goto(foundCity, foundLat, foundLon);
            } else {
                if (mapVisible) {
                    toggleMap();
                }
                if (!found) {
                    while (resultCtnr.childElementCount > 0) {
                        resultCtnr.removeChild(resultCtnr.firstElementChild);
                    }
                    var title = document.createElement('DIV');
                    title.innerText = "Nichts gefunden! Vollständigen Namen oder PLZ eingeben.";
                    title.className="title";
                    resultCtnr.appendChild(title);
                }
            }
        }
    }

    function createGoto(text, nlat, nlon, map) {
        return function(event) {
            goto(text, nlat, nlon);
            if (map) {
                toggleMap();
            }
            event.preventDefault();
            return false;
        }
    }

    function goto(new_city, new_lat, new_lon) {

        city = new_city;
        lat = parseFloat(new_lat);
        lon = parseFloat(new_lon);
        bbox = [lat - 0.1, lon - 0.12, lat + 0.1, lon + 0.12];
        document.getElementById('city').placeholder = 'Ort: ' + city;
        document.getElementById('city').value = '';
        var resultCtnr = document.getElementById('cities');
        while (resultCtnr.childElementCount > 0) {
            resultCtnr.removeChild(resultCtnr.firstElementChild);
        }
        saveCity();
        if (resultMapObj) {
            resultMapObj.fitBounds([[bbox[0],bbox[1]],[bbox[2],bbox[3]]]);
        }
        find();
    }

</script>


<!-- OVERLAY (waiting information, cancel button)  -->
<script type="text/javascript">

    /*  OVERLAY (waiting information, cancel button)  */

    var cancelCallback = null;
    var cancelXhttp = null;
    var waitIsVisible = false;
    var disableOverlay = false;

    function showWait(msg, xhttp, noOverlay) {
        if(xhttp) {
            cancelXhttp = xhttp;
        }
        if (waitIsVisible) {
            return false;
        }
        if(disableOverlay || noOverlay) {
            document.getElementById('ovl_wheel').style.display = 'inline-block';
        } else {
            document.getElementById('ovl_wait').style.display = 'block';
            if (msg) {
                document.getElementById('ovl_wait_msg').innerText = msg;
            } else {
                document.getElementById('ovl_wait_msg').innerText = 'lade Daten...';
            }
        }
        return true;
    }

    function hideWait(err) {
        cancelCallback = null;
        cancelXhttp = null;
        waitIsVisible = false;
        if (err) {
            alert("Problem mit " + err);
        }
        document.getElementById('ovl_wait').style.display = 'none';
        document.getElementById('ovl_wheel').style.display = 'none';
    }

    function cancel() {
        if (cancelCallback) {
            cancelCallback();
        }
        if (cancelXhttp && cancelXhttp.abort) {
            cancelXhttp.abort();
        }
        hideWait();
    }

</script>


<!-- GEOLOCATION FUNCTIONS  -->
<script type="text/javascript">

    /*  GEOLOCATION FUNCTIONS  */

    var geoLocationCancelled = false;

    function geolocate() {
        showWait('Positionsbestimmung...');
        geoLocationCancelled = false;
        cancelCallback = function(){geoLocationCancelled = true;}
        getLocation(function(res) {
            if (geoLocationCancelled) {
                return;
            }
            if (res && res.coords) {
                res = res.coords;
            }
            if (res && res.latitude && res.longitude) {
                hideWait();
                goto(res.latitude + ',' + res.longitude, res.latitude,
                        res.longitude);
            }
            else if (res && res.lat && res.lon) {
                hideWait();
                goto(res.lat + ',' + res.lon, res.lat, res.lon);
            } else if (res) {
                showWait('Position nicht gefunden, versuche es neu für 15 Minuten...');
                cancelCallback = function(){geoLocationCancelled = true;}
                getLocation(function(res) {
                    if (geoLocationCancelled) {
                        return;
                    }
                    if (res && res.coords) {
                        res = res.coords;
                    }
                    if (res && res.latitude && res.longitude) {
                        hideWait();
                        goto(res.latitude + ',' + res.longitude, res.latitude,
                                res.longitude);
                    }
                    else if (res && res.lat && res.lon) {
                        hideWait();
                        goto(res.lat + ',' + res.lon, res.lat, res.lon);
                    } else {
                        hideWait('GPS');
                    }
                }, 900000);
            } else {
                hideWait('Berechtigungs-Einstellung');
            }
        });
    }


    /*# get location (default timeout 8.8 seconds for google and 99 seconds for GPS)
     # with fallback to high accuracy in case that low accuracy is turned off
     # (this is necessary for android with google location services turned off)
     # callback will be called with NULL if position cannot be determined,
     # or with object { coords: { latitude: 1.234, longitude: 5.678 } }
     # ATTENTION: may never call the callback - in case the user does neither
     # confirm nor deny the confirmation dialog that the browser usually
     displays*/
    function getLocation(callback, pTimeout) {
        var errorCallback, ref, successCallback;
        if (pTimeout == null) {
            pTimeout = 99999;
        }
        if (!(typeof navigator !== "undefined" && navigator !== null ? (ref = navigator.geolocation) != null ? ref.getCurrentPosition : void 0 : void 0)) {
            return callback(null);
        } else {
            successCallback = function(position) {
                var ref1, ref2;
                if ((position != null ? (ref1 = position.coords) != null ? ref1.latitude : void 0 : void 0) && (position != null ? (ref2 = position.coords) != null ? ref2.longitude : void 0 : void 0)) {
                    return callback(position);
                } else {
                    return callback(null);
                }
            };
            errorCallback = function(positionError) {
                if (positionError != null && positionError.code != 1) {
                    return window.setTimeout((function() {
                        return navigator.geolocation.getCurrentPosition(successCallback, function(positionError2) {
                            return callback({});
                        }, {
                            enableHighAccuracy: true,
                            timeout: pTimeout,
                            maximumAge: Infinity
                        });
                    }), 11);
                } else {
                    return callback(null);
                }
            };
            return navigator.geolocation.getCurrentPosition(successCallback, errorCallback, {
                enableHighAccuracy: false,
                timeout: 8888,
                maximumAge: 999999
            });
        }
    }

</script>


<!-- COOKIE  and  REQUEST PARAMETER HANDLING -->
<script type="text/javascript">

    /* COOKIE  and  REQUEST PARAMETER HANDLING */

    function saveCity() {
        var ablauf = new Date();
        var in400Tagen = ablauf.getTime() + (400 * 24 * 60 * 60 * 1000);
        ablauf.setTime(in400Tagen);
        document.cookie = 'city='+city+'; path=/; expires=' + ablauf.toGMTString();
        document.cookie = 'lat='+lat+'; path=/; expires=' + ablauf.toGMTString();
        document.cookie = 'lon='+lon+'; path=/; expires=' + ablauf.toGMTString();
        document.location.hash = ';' + city;
    }

    function initCity() {
        if (document.cookie) {
            var ca = document.cookie.split(';');
            if (ca) {
                for(var i=0;i < ca.length;i++) {
                    var c = ca[i];
                    while (c.charAt(0)==' ') c = c.substring(1);
                    if (c.indexOf('city=') == 0) {
                        city = c.substring(5);
                        document.getElementById('city').placeholder = 'Ort: ' + city;
                    }
                    if (c.indexOf('lat=') == 0) {
                        lat = parseFloat(c.substring(4));
                        bbox = [lat - 0.1, lon - 0.12, lat + 0.1, lon + 0.12];;
                    }
                    if (c.indexOf('lon=') == 0) {
                        lon = parseFloat(c.substring(4));
                        bbox = [lat - 0.1, lon - 0.12, lat + 0.1, lon + 0.12];
                    }
                    if (c.indexOf('poi=0') == 0) {
                        poiEnabled = false;
                        var mele = document.getElementById('menuPoi');
                        if (mele) {
                            mele.style.fontWeight = poiEnabled ? 'bold' : 'normal';
                        }
                    }
                    if (c.indexOf('poiName=1') == 0) {
                        poiWithoutName = true;
                        var mele = document.getElementById('menuPoiName');
                        if (mele) {
                            mele.style.fontWeight = poiEnabled ? 'bold' : 'normal';
                        }
                    }
                    if (c.indexOf('map=') == 0) {
                        mapStyle = c.substring(4);
                    }
                    if (c.indexOf('ovl=') == 0) {
                        mapOverlay = c.substring(4);
                    }
                }
            }
        }

        if(location.hash && location.hash != '#' && location.hash.replace(' ', '') && location.hash.replace(' ', '') != '#') {
            var parts = location.hash.replace(/^#/, '').split(';');
            if (parts.length > 1 && parts[1]) {
                var ll = parts[1].split(',');
                if (ll.length > 1 && ll[1] && ll[0] && ll[0].match(/^[0-9]+\.[0-9]*$/) && ll[1].match(/[0-9]+\.[0-9]*$/)) {
                        lat = parseFloat(ll[0]);
                        lon = parseFloat(ll[1]);
                        bbox = [lat - 0.1, lon - 0.12, lat + 0.1, lon + 0.12];
                        displayDetailsOnload = parts[0];
                        initMap();
                } else {
                    var txt = decodeURIComponent(parts[1]);
                    if (txt.match(/^[0-9a-zA-Z\u00C0-\u017F,.;() :+\?/_-]+$/)) {
                        document.getElementById('city').placeholder = 'Ort: ' + city;
                        displayDetailsOnload = parts[0];
                        gotoCity(txt);
                    }
                }
            }
            if (parts.length > 0 && parts[0] && !displayDetailsOnload) {
                displayDetails(parts[0]);
            }

        }

    }

</script>


<!-- MAP FUNCTIONS -->
<script type="text/javascript">

    /* MAP FUNCTIONS */

    var mapStyle = 'OpenStreetMap.DE';
    var mapOverlay = null;
    var resultMapLayer = null;
    var resultMapOverlay = null;
    var resultMapObj = null;
    var mapMarkers = {};

    var cityLat = null;
    var cityLon = null;

    function toggleMap() {
        backScrollY = null;
        if (!resultMapObj) {
            if (confirm('Karte laden? (Langsam auf alten Handies!)')) {
                initMap();
            }
        } else {
            var ele = document.getElementById('overMap');
            if (ele) {
                if ((!ele.style.left) || ele.style.left !== '0') {
                    ele.style.left = '0';
                    ele.style.overflow = "";
                    document.getElementById('resultMapCtnr').style.left='380px';
                    document.getElementById('mapBtn').innerText = "Karte";
                } else {
                    ele.style.left = "-300px";
                    ele.style.overflow = "hidden";
                    document.getElementById('resultMapCtnr').style.left='20px';
                    document.getElementById('mapBtn').innerText = "Liste";
                    if ((!searchResult) || ((!searchResult.visible) && (!searchResult.invisible))) {
                        find();
                    }
                }
            }
        }
    }

    function isMapInFront() {
        var ele = document.getElementById('overMap');
        return ele && ele.style.left && ele.style.left == '-300px';
    }

    function setMapProvider(newStyle, newOverlay) {
        mapStyle = newStyle;
        mapOverlay = newOverlay;
        if (resultMapObj) {
            if (resultMapLayer) {
                resultMapObj.removeLayer(resultMapLayer);
            }
            try {
                resultMapLayer = L.tileLayer.provider(mapStyle);
            } catch(exception) {
                resultMapLayer = L.tileLayer.provider('OpenStreetMap.DE');
            }
            resultMapObj.addLayer(resultMapLayer);
            if (mapStyle == 'Esri.WorldImagery') {
                document.getElementById('resultMap').classList.add('darkMap');
            } else {
                document.getElementById('resultMap').classList.remove('darkMap');
            }
            if (resultMapOverlay) {
                resultMapObj.removeLayer(resultMapOverlay);
            }
            if (mapOverlay) {
                try {
                    resultMapOverlay = L.tileLayer.provider(mapOverlay);
                    resultMapObj.addLayer(resultMapOverlay);
                } catch(exception) {
                    resultMapOverlay = null;
                    mapOverlay = null;
                }
            }
        }
        var ablauf = new Date();
        var in400Tagen = ablauf.getTime() + (400 * 24 * 60 * 60 * 1000);
        ablauf.setTime(in400Tagen);
        document.cookie = 'map='+mapStyle+'; path=/; expires=' + ablauf.toGMTString();
        document.cookie = 'ovl='+(mapOverlay ? mapOverlay : '') +'; path=/; expires=' + ablauf.toGMTString();
    }

    function doInitMap() {
        document.getElementById('mapBtn').style.display = 'inline-block';

        if (resultMapObj != null || (!L) || (!L.tileLayer) || (!L.tileLayer.provider)) {
            console.log(resultMapObj == null ?
                    "Leaflet Scripts not yet loaded." :
                    "Map is already loaded");
            return;
        }
        resultMapObj = L.map('resultMap', {
            center: [lat, lon],
            tapTolerance: 30,
            tap: true,
            zoom: 12
        });

        setMapProvider(mapStyle, mapOverlay);

        resultMapObj.fitBounds([[bbox[0], bbox[1]], [bbox[2], bbox[3]]]);

        resultMapObj.on('moveend', function (event) {
            bbox = [resultMapObj.getBounds().getSouthWest().lat, resultMapObj.getBounds().getSouthWest().lng, resultMapObj.getBounds().getNorthEast().lat, resultMapObj.getBounds().getNorthEast().lng];
            lat = resultMapObj.getCenter().lat;
            lon = resultMapObj.getCenter().lng;
            if (resultMapObj.getZoom() < 15) {
                city = lat + ',' + lon;
                cityLat = null;
                cityLon = null;
                document.getElementById('city').placeholder = 'Ort: ' + city;
            } else {
                if ((!cityLat) || (!cityLon) || Math.abs(resultMapObj.getCenter().lat - cityLat) > 0.01 || Math.abs(resultMapObj.getCenter().lng - cityLon) > 0.018) {
                    document.getElementById('city').placeholder = 'Ort: ' + lat + ',' + lon;
                    mapCenter2City();
                }
            }
            disableOverlay = true;
            find();
            window.setTimeout(function () {
                disableOverlay = false;
            }, 333);
            saveCity();
            document.location.hash = ';' + lat + ',' + lon;
        });

        toggleMap();
        find();
    }

    function initMap() {

        var lfcss = document.createElement("LINK");
        lfcss.rel = "stylesheet";
        lfcss.href = "https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.0-rc.1/leaflet.css";
        document.head.appendChild(lfcss);

        var facss = document.createElement("LINK");
        facss.rel = "stylesheet";
        facss.href = "https://wap.kartevonmorgen.org/map-icons/css/map-icons.min.css";
        document.head.appendChild(facss);


        var lfjs = document.createElement("SCRIPT");
        lfjs.type = "text/javascript";
        lfjs.src = "https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.0-rc.1/leaflet.js";
        lfjs.onload = function() {
            var lfjs2 = document.createElement("SCRIPT");
            lfjs2.type = "text/javascript";
            lfjs2.src = "https://cdnjs.cloudflare.com/ajax/libs/leaflet-providers/1.1.10/leaflet-providers.min.js";
            lfjs2.onload = doInitMap;
            document.body.appendChild(lfjs2);
        };
        document.body.appendChild(lfjs);

        var mapBtnEle = document.getElementById('btnInitMap');
        if (mapBtnEle) {
            mapBtnEle.innerText="Karte zeigen";
            mapBtnEle.onclick=toggleMap;
        }
    }

    function removeUnnecessaryMapMarkers() {
        if (mapMarkers && resultMapObj) {
            for (e in mapMarkers) {
                var marker = mapMarkers[e];
                if (marker && ((!e.match) || !e.match(/^osm_.+/))) {
                    if ( ((!searchResult['visible'])   || (searchResult['visible']   && searchResult['visible'].indexOf(e) < 0))
                            && ((!searchResult['invisible']) || (searchResult['invisible'] && searchResult['invisible'].indexOf(e) < 0)) ) {
                        resultMapObj.removeLayer(marker);
                        delete mapMarkers[e];
                    }
                } else if (marker && !osmIsResult(e)) {
                    resultMapObj.removeLayer(marker);
                    delete mapMarkers[e];
                }
            }
        }
    }

    function addMapMarker(entry) {
        if (resultMapObj && (!mapMarkers[entry.id]) && entry && entry.lat && entry.lng) {
            var cat = categories && entry.categories && entry.categories.length
            && entry.categories[0] ? categories[entry.categories[0]] : null;
            mapMarkers[entry.id] = L.marker({lat:entry.lat, lng:entry.lng}, {icon:
                    L.divIcon({iconSize: [40,41],
                        iconAnchor:[20,41], className:'mapMarker '+(cat ?
                                cat.name :'unknown'), html:'<i class="map-icon map-icon-map-pin"></i>'})});
            mapMarkers[entry.id].addTo(resultMapObj);
            mapMarkers[entry.id].bindPopup('<a href="#" onclick="displayDetails('+"'"+entry.id+"'"+');if(isMapInFront()){toggleMap();backScrollY=null;}else{backScrollY=-1;}event.preventDefault();return false;">'+entry.title+'</a>');
        }
    }

    function mapCenter2City() {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (xhttp.readyState == 4) {
                if (xhttp.status == 200 && xhttp.responseText) {
                    var res = JSON.parse(xhttp.responseText);
                    if (res && res.address) {
                        if (res.address.city || res.address.town || res.address.village) {
                            city = res.address.city ? res.address.city : res.address.town ? res.address.town : res.address.village;
                            document.getElementById('city').placeholder = 'Ort: ' + city;
                            cityLat = res.lat;
                            cityLon = res.lon;
                            saveCity();
                        }
                    }
                }
            }
        };
        xhttp.open("GET",
                'https://open.mapquestapi.com/nominatim/v1/reverse.php?key=SJpWKrsbH6PZGQ9KZvyibuGzRkXS1LAw' +
                '&format=json&zoom=18&lat=' + lat + '&lon=' + lon, true);
        xhttp.send();
    }

</script>

<!-- OPEN STREET MAP SEARCH -->
<script type="text/javascript">
    /* OPEN STREET MAP SEARCH */

    var osmEnabled = false;
    var osmBbox = null;

    var osmLoading = 0;

    function findOsm() {
        var resultCtnr = document.getElementById('openstreetmap');
        while (resultCtnr.childElementCount > 0) {
            resultCtnr.removeChild(resultCtnr.firstElementChild);
        }
        var head = document.createElement("H3");
        head.innerText = "Open Street Map Results:"
        resultCtnr.appendChild(head);
        if (osmEnabled && osmBbox && bbox && bbox.length == 4 && osmBbox.length == 4 &&
                osmBbox[0] && osmBbox[1] && osmBbox[2] && osmBbox[3] &&
                bbox[0] && bbox[1] && bbox[2] && bbox[3] &&
                osmBbox[0] <= bbox[0] && osmBbox[1] <= bbox[1] && osmBbox[2] >=
                bbox[2] && osmBbox[3] >= bbox[3]) {
            for (var e in cache) {
                if (e && e.match(/^osm_/) ) {
                    displayOsmFromCache(e);
                }
            }
            findPoi();
            return;
        }
        if (mapMarkers && resultMapObj) {
            for (e in mapMarkers) {
                var marker = mapMarkers[e];
                if (marker && e.match && e.match(/^osm_.+/)) {
                    resultMapObj.removeLayer(marker);
                    delete mapMarkers[e];
                }
            }
        }
        if (osmEnabled && bbox && bbox.length == 4 && Math.abs(bbox[2] - bbox[0]) <= 0.201 && Math.abs(bbox[3] - bbox[1]) <= 0.241) {
            osmBbox = [(bbox[2] + bbox[0])/2 - 0.1,
                (bbox[3] + bbox[1])/2 - 0.12,
                (bbox[2] + bbox[0])/2 + 0.1,
                (bbox[3] + bbox[1])/2 + 0.12];

            var loading = document.createElement("DIV");
            loading.className = "loading";
            loading.innerText = "lade Daten...";
            loading.id = "osmloading"
            resultCtnr.appendChild(loading);

            var ebtn = document.getElementById('btnOpenStreetMap');
            if (ebtn) {
                ebtn.innerText="Lade von OSM..."
            }

            doFindOsm('node[~"^(organic|diet:vegan|diet:vegetarian|fair_trade|regional|second_hand|charity|ngo|identity)$"~"^([^nN].*|[nN][^oO].*|[nN][oO].+)$"];out qt;');
            doFindOsm('way[~"^(organic|diet:vegan|diet:vegetarian|fair_trade|regional|second_hand|charity|ngo|identity)$"~"^([^nN].*|[nN][^oO].*|[nN][oO].+)$"];out center qt;');
            doFindOsm('node[~"^(office|shop|leisure|craft)$"~"^(organic|diet:vegan|diet:vegetarian|fair_trade|second_hand|charity|ngo|farm|garden|beekeeper|dressmaker|handicraft|pottery|beekeper|electronics_repair|basket_maker)$"];out qt;');
            doFindOsm('way[~"^(office|shop|craft)$"~"^(organic|diet:vegan|diet:vegetarian|fair_trade|second_hand|charity|ngo|farm|garden|beekeeper|dressmaker|handicraft|pottery|beekeper|electronics_repair|basket_maker)$"];out center qt;');


        } else if (osmEnabled || (bbox && bbox.length == 4 && (Math.abs(bbox[2] - bbox[0]) > 0.201 || Math.abs(bbox[3] - bbox[1]) > 0.241))) {
            var ebtn = document.getElementById('btnOpenStreetMap');
            if (ebtn) {
                ebtn.innerText="ZOOM for OSM!"
            }
            osmBbox = null;
        } else {
            var ebtn = document.getElementById('btnOpenStreetMap');
            if (ebtn) {
                ebtn.innerText="OpenStreetMap"
            }
        }

        findPoi();
    }

    function doFindOsm(query) {
        var xhttp = new XMLHttpRequest();
        //showWait(null, xhttp);
        xhttp.onreadystatechange = function() {
            if (xhttp.readyState == 4) {
                if (xhttp.status == 200) {
                    osmLoading--;
                    if (osmLoading <= 0) {
                        var elem = document.getElementById('osmloading');
                        if (elem) {
                            elem.style.display = 'none';
                        }
                        var ebtn = document.getElementById('btnOpenStreetMap');
                        if (ebtn) {
                            ebtn.innerText="OpenStreetMap"
                        }
                    }
                    var response = JSON.parse(xhttp.responseText);
                    var res = response ? response.elements : response;
                    if (res) {
                        for (var e in res) {
                            if (res[e]&& res[e].tags && res[e].tags.name &&
                                    ((!res[e].tags.shop) || res[e].tags.shop != 'car')) {

                                displayOsm(res[e]);
                            }
                        }
                    }
                } else {
                    var resultCtnr = document.getElementById('openstreetmap');
                    var osmerr = document.createElement("DIV");
                    osmerr.className = "loaderr";
                    osmerr.innerText = "Server nicht erreichbar";
                    resultCtnr.appendChild(osmerr);
                }
            }
        };
        xhttp.open("GET",
                'https://overpass.kumi.systems/api/interpreter/?data=[out:json][timeout:180][bbox:'
                + osmBbox.join(',') + '];' + query
                , true);
        xhttp.send();
        osmLoading++;
    }

    function displayOsm(osmEntry) {
        var entry = {
            id: 'osm_' + osmEntry.id,
            title: osmEntry.tags.name,
            lat: osmEntry.center ? osmEntry.center.lat : osmEntry.lat,
            lng: osmEntry.center ? osmEntry.center.lon : osmEntry.lon,
            description: getEntryType(osmEntry),
            street: osmEntry.tags['addr:street'],
            zip: osmEntry.tags['addr:postcode'] ?
                    osmEntry.tags['addr:postcode'] : osmEntry.tags['addr:zip'],
            city: osmEntry.tags['addr:city'] ? osmEntry.tags['addr:city']
                    : osmEntry.tags['addr:town'] ? osmEntry.tags['addr:town']
                    : osmEntry.tags['addr:village'],
            homepage: osmEntry.tags['website'] ? osmEntry.tags['website'] :
                    osmEntry.tags['url'] ? osmEntry.tags['url'] :
                            osmEntry.tags['contact:website'],
            tags: osmEntry.tags,
            license: '© OpenStreetMap.org contributors, ODbL',
            origin: 'openstreetmap.org'
        }

        cache[entry.id] = entry;

        displayOsmFromCache(entry.id);
    }

    function displayOsmFromCache(entryId) {
        if (osmIsResult(entryId)) {
            var entry = cache[entryId];
            if (entry && entry.lat >= bbox[0] && entry.lat <= bbox[2] &&
                    entry.lng >= bbox[1] && entry.lng <= bbox[3]) {
                var resultCtnr = document.getElementById('openstreetmap');
                var osmCtnr = document.createElement("DIV");
                osmCtnr.className = "entry";
                osmCtnr.onclick = createShowFunc(osmCtnr, entryId);

                var title = document.createElement("A");
                title.innerText = entry.title;
                title.href = '#' + entryId;
                title.onclick = osmCtnr.onclick;

                var desc = document.createElement("DIV");
                desc.innerText = entry.description;

                osmCtnr.appendChild(title);
                osmCtnr.appendChild(desc);
                resultCtnr.appendChild(osmCtnr);
            }

            if (!mapMarkers[entry.id]) {
                addMapMarker(entry);
            }
        }
    }

    function osmIsResult(entryId) {
        var filter = document.getElementById('text');
        if (filter && filter.value) {
            var entry = cache[entryId];
            if (entry && entry.tags) {
                for (var e in entry.tags) {
                    if (e.indexOf(filter.value) >= 0) {
                        return true;
                    }
                    if (entry.tags[e] && entry.tags[e].indexOf(filter.value) >= 0) {
                        return true;
                    }
                }
            }
            return false;
        } else {
            return true;
        }
    }

    function getEntryType(osmEntry) {
        var res = '';
        if (osmEntry && osmEntry.tags) {
            for (tag in osmEntry.tags) {
                if (tag && tag.match(/^(office|shop|leisure|craft|organic|diet:vegan|diet:vegetarian|fair_trade|regional|second_hand|charity|ngo|identity)$/) ) {
                    res += capitalizeFirstLetter(tag) + ": " + osmEntry.tags[tag] + ', ';
                }
            }
        }
        return res + '\n  © OpenStreetMap.org contributors, ODbL';
    }

    function getOsmResults(ids, callback) {
        // do nothing.
    }


</script>

<!-- POI DISPLAY -->
<script type="text/javascript">
    /* POI DISPLAY */

    var poiEnabled = true;
    var poiWithoutName = false;
    var poiMarkers = {};
    var poiBbox = null;
    var transportBox = null;
    var poiLoading = 0;
    var poiResult = {};

    function togglePoi() {
        poiEnabled = !poiEnabled;
        findPoi();
        var mele = document.getElementById('menuPoi');
        if (mele) {
            mele.style.fontWeight = poiEnabled ? 'bold' : 'normal';
        }
        var ablauf = new Date();
        var in400Tagen = ablauf.getTime() + (400 * 24 * 60 * 60 * 1000);
        ablauf.setTime(in400Tagen);
        document.cookie = 'poi='+(poiEnabled ? '1' : '0')+'; path=/; expires=' + ablauf.toGMTString();
    }

    function togglePoiWithoutName() {
        poiWithoutName = !poiWithoutName;
        findPoi();
        var mele = document.getElementById('menuPoiName');
        if (mele) {
            mele.style.fontWeight = poiWithoutName ? 'bold' : 'normal';
        }
        var ablauf = new Date();
        var in400Tagen = ablauf.getTime() + (400 * 24 * 60 * 60 * 1000);
        ablauf.setTime(in400Tagen);
        document.cookie = 'poiName='+(poiWithoutName ? '1' : '0')+'; path=/; expires=' + ablauf.toGMTString();
    }

    function findPoi() {
        if (poiEnabled && resultMapObj && resultMapObj.getZoom && resultMapObj.getZoom() > 16 && bbox && bbox.length && bbox.length >= 3) {
            if ((!poiBbox) || (!poiBbox.length) || (poiBbox.length < 3) || poiBbox[0] > bbox[0] || poiBbox[1] > bbox[1] || poiBbox[2] < bbox[2] || poiBbox[3] < bbox[3]) {
                for (e in poiMarkers) {
                    resultMapObj.removeLayer(poiMarkers[e]);
                    delete poiMarkers[e];
                }
                var poiBounds = (bbox[3] - bbox[1]) > 0.008 ? resultMapObj.getBounds().pad(0.2) : resultMapObj.getBounds().pad(1);
                poiBbox = [poiBounds.getSouthWest().lat, poiBounds.getSouthWest().lng, poiBounds.getNorthEast().lat, poiBounds.getNorthEast().lng];
                transportBox = poiBbox;
                poiResult = {};
                doFindPoi('node[~"^(office|shop|amenity|craft|restaurant|tourism|hiking)$"~"."];out qt;', poiBbox);
                doFindPoi('way[~"^(office|shop|amenity|craft|restaurant|tourism|hiking)$"~"."];out center qt;', poiBbox);
                doFindPoi('node[~"^(highway|railway|public_transport)$"~"^(station|platform|bus_stop|tram_stop|subway_entrance|halt)$"];out qt;', poiBbox);
            } else {
                for (e in poiMarkers) {
                    if ((!poiResult[e]) || (!poiResult[e].lat) || (!poiResult[e].lng) || (!bbox) || bbox.length < 3 || ((!poiWithoutName) && (!poiResult[e].name) )
                       || poiResult[e].lat < bbox[0] || poiResult[e].lat > bbox[2] || poiResult[e].lng < bbox[1] || poiResult[e].lng > bbox[3]) {
                        resultMapObj.removeLayer(poiMarkers[e]);
                        delete poiMarkers[e];
                    }
                }
                for (j in poiResult) {
                    addPoiMarker(poiResult[j]);
                }
            }
        } else if (resultMapObj && resultMapObj.getZoom && resultMapObj.getZoom() > 15 && bbox && bbox.length && bbox.length >= 3) {
            if ((!transportBox) || (!transportBox.length) || (transportBox.length < 3) || transportBox[0] > bbox[0] || transportBox[1] > bbox[1] || transportBox[2] < bbox[2] || transportBox[3] < bbox[3]) {
                for (e in poiMarkers) {
                    resultMapObj.removeLayer(poiMarkers[e]);
                    delete poiMarkers[e];
                }
                var poiBounds = (bbox[3] - bbox[1]) > 0.012 ? resultMapObj.getBounds().pad(0.2) : resultMapObj.getBounds().pad(1);
                transportBox = [poiBounds.getSouthWest().lat, poiBounds.getSouthWest().lng, poiBounds.getNorthEast().lat, poiBounds.getNorthEast().lng];
                poiBbox = null;
                poiResult = {};
                doFindPoi('node[~"^(highway|railway|public_transport)$"~"^(station|platform|bus_stop|tram_stop|subway_entrance|halt)$"];out qt;', transportBox);
            } else {
                for (e in poiMarkers) {
                    if ((!poiResult[e]) || (!poiResult[e].lat) || (!poiResult[e].lng) || (!bbox) || bbox.length < 3
                            || poiResult[e].lat < bbox[0] || poiResult[e].lat > bbox[2] || poiResult[e].lng < bbox[1] || poiResult[e].lng > bbox[3]
                            || (!(poiResult[e].tags.highway ||poiResult[e].tags.railway || poiResult[e].tags.public_transport))
                        ) {
                        resultMapObj.removeLayer(poiMarkers[e]);
                        delete poiMarkers[e];
                    }
                }
                for (j in poiResult) {
                    if (poiResult[j] && (poiResult[j].tags.highway || poiResult[j].tags.railway || poiResult[j].tags.public_transport)) {
                        addPoiMarker(poiResult[j]);
                    }
                }
            }
        } else {
            for (e in poiMarkers) {
                resultMapObj.removeLayer(poiMarkers[e]);
                delete poiMarkers[e];
            }
        }
    }

    function doFindPoi(query, myBbox) {
        var xhttp = new XMLHttpRequest();
        //showWait(null, xhttp);
        xhttp.onreadystatechange = function() {
            if (xhttp.readyState == 4) {
                if (xhttp.status == 200) {
                    poiLoading--;
                    if (poiLoading <= 0) {
                        var elem = document.getElementById('poiloading');
                        if (elem) {
                            elem.style.display = 'none';
                        }
                    }
                    var response = JSON.parse(xhttp.responseText);
                    var res = response ? response.elements : response;
                    if (res) {
                        for (var e in res) {
                            if (res[e] && res[e].id && res[e].tags
                             && ((res[e].tags.office && res[e].tags.office != 'no')
                                || (res[e].tags.shop && res[e].tags.shop != 'no')
                                || (res[e].tags.amenity && res[e].tags.amenity != 'no')
                                || (res[e].tags.craft && res[e].tags.craft != 'no')
                                || (res[e].tags.restaurant && res[e].tags.restaurant != 'no')
                                || (res[e].tags.tourism && res[e].tags.tourism != 'no')
                                || (res[e].tags.hiking && res[e].tags.hiking != 'no')
                                || (res[e].tags.highway && res[e].tags.highway != 'no')
                                || (res[e].tags.railway && res[e].tags.railway != 'no')
                                || (res[e].tags.public_transport && res[e].tags.public_transport != 'no')
                            )) {
                                displayPoi(res[e]);
                            }
                        }
                    }
                }
            }
        };
        xhttp.open("GET",
                'https://overpass.kumi.systems/api/interpreter/?data=[out:json][timeout:180][bbox:'
                + myBbox.join(',') + '];' + query
                , true);
        xhttp.send();
        poiLoading++;
    }

    function displayPoi(osmEntry) {
        var poi = {
            id: 'osm_' + osmEntry.id,
            name: osmEntry.tags.name,
            title: osmEntry.tags.name ? osmEntry.tags.name : osmEntry.tags.shop ? ('shop: ' + osmEntry.tags.shop) : osmEntry.tags.amenity ? ('poi: ' + osmEntry.tags.amenity) : osmEntry.tags.craft ? ('craft: ' + osmEntry.tags.craft) : osmEntry.tags.office ? ('office: ' + osmEntry.tags.office) : 'unknown',
            lat: osmEntry.center ? osmEntry.center.lat : osmEntry.lat,
            lng: osmEntry.center ? osmEntry.center.lon : osmEntry.lon,
            homepage: osmEntry.tags['website'] ? osmEntry.tags['website'] :
                    osmEntry.tags['url'] ? osmEntry.tags['url'] :
                            osmEntry.tags['contact:website'],
            tags: osmEntry.tags,
            license: '© OpenStreetMap.org contributors, ODbL',
            origin: 'openstreetmap.org'
        }
        if (!poiMarkers[poi.id]) {
            poiResult[poi.id] = poi;
            addPoiMarker(poi);
        }
    }

    function addPoiMarker(entry) {
        if (resultMapObj && entry && (entry.name || poiWithoutName) && (!poiMarkers[entry.id]) && entry.lat && entry.lng && bbox && bbox.length >= 3
            && entry.lat >= bbox[0] && entry.lat <= bbox[2] && entry.lng >= bbox[1] && entry.lng <= bbox[3]) {
            poiMarkers[entry.id] = L.marker({lat:entry.lat, lng:entry.lng}, {icon:
                    L.divIcon({iconSize: [24,24],
                        iconAnchor:[12,12], className:'poiMarker ', html:'<i class="map-icon map-icon-'+getMapIconName(entry)+'"></i>'})});
            poiMarkers[entry.id].addTo(resultMapObj);
            var href = entry.homepage && entry.homepage.trim ? entry.homepage.trim() : '';
            if (entry.tags && entry.name && (entry.tags.highway || entry.tags.railway || entry.tags.public_transport)) {
                poiMarkers[entry.id].bindPopup('<a href="https://mobile.bahn.de/bin/mobil/bhftafel.exe/dox?productsFilter=1111111111000000&input=' + encodeURIComponent(entry.name + (entry.name.indexOf(city)>=0 ? '' : (', ' + city))) + '" target="_blank">'+entry.name+'</a>');
            } else {
                poiMarkers[entry.id].bindPopup(
                        (entry.name ? '<a href="https://duckduckgo.com/?q=' + encodeURIComponent(entry.name + ' ' + city) + '" target="_blank"><i class="map-icon map-icon-search"></i></a>&#160;' : '')
                        + '<a' + (href ? ' href="' + ((!href) || (!href.indexOf) || (href.trim().indexOf('http') == 0) ? '' : 'http://') + href : '') + '" target="_blank">' + entry.title + '</a>'
                );
            }
        }
    }

    function getMapIconName(poi) {
        var fallback = tagMap.fall_back;
        if (poi && poi.tags) {
            for (k in poi.tags) {
                var myMap = tagMap[k];
                if (myMap) {
                    var res = myMap[poi.tags[k]];
                    if (res) {
                        return res;
                    }
                    if (myMap.fall_back) {
                        fallback = myMap.fall_back;
                    }
                }
            }
        }
        return fallback;
    }

    var tagMap = {
        amenity: {
            fall_back: 'postal-code',
            parking: 'parking',
            place_of_worship: 'place-of-worship',
            school: 'school',
            bench: 'park',
            restaurant: 'restaurant',
            fuel: 'gas-station',
            cafe: 'cafe',
            fast_food: 'food',
            bank: 'bank',
            post_box: 'post-box',
            pharmacy: 'health',
            kindergarten: 'playground',
            recycling: 'snow green',
            grave_yard: 'cemetery',
            waste_basket: 'route',
            bicycle_parking: 'bicycling',
            toilets: 'toilet',
            shelter: 'roofing-contractor',
            hospital: 'hospital',
            post_office: 'post-office',
            pub: 'bar',
            drinking_water: 'plumber',
            public_building: 'political',
            atm: 'atm',
            telephone: 'volume-control-telephone',
            bar: 'bar',
            police: 'police',
            fire_station: 'fire-station',
            parking_space: 'parking',
            hunting_stand: 'archery',
            townhall: 'city-hall',
            vending_machine: 'storage',
            /*fountain: '',*/
            doctors: 'doctor',
            library: 'library',
            social_facility: 'walking',
            car_wash: 'car-wash',
            university: 'university',
            swimming_pool: 'swimming',
            /*community_centre: '',*/
            college: 'university',
            dentist: 'dentist',
            waste_disposal: 'route',
            marketplace: 'convenience-store',
            bus_station: 'bus-station',
            clinic: 'hospital',
            parking_entrance: 'parking',
            taxi: 'taxi-stand',
            theatre: 'movie-theater',
            bicycle_rental: 'bicycle-store',
            cinema: 'movie-theater',
            veterinary: 'veterinary-care',
            mobile_money_agent: 'finance',
            courthouse: 'courthouse',
            nightclub: 'night-club',
            arts_centre: 'art-gallery',
            bbq: 'restaurant',
            nursing_home: '',
            ferry_terminal: 'boat-tour',
            grit_bin: '',
            car_rental: 'car-rental',
            clock: 'compass',
            shower: 'hair-care',
            biergarten: 'restaurant',
            driving_school: '',
            charging_station: '',
            embassy: 'government',
            ice_cream: 'cafe',
            prison: 'police',
            water_point: 'plumber',
            car_sharing: 'car-rental',
            childcare: 'playground',
            emergency_phone: 'volume-control-telephone',
            bureau_de_change: 'finance',
            motorcycle_parking: 'motobike-trail',
            studio: '',
            residential: '',
            shop: 'department-store',
            food_court: '',
            watering_place: '',
            boat_storage: 'boating',
            casino: 'casino',
            sauna: '',
            Residential: '',
            brothel: '',
            kiosk: 'convenience-store',
            retirement_home: '',
            gambling: '',
            game_feeding: '',
            compressed_air: '',
            bicycle_repair_station: 'bicycle-store',
            'parking;fuel': '',
            social_centre: 'walking',
            payment_terminal: '',
            register_office: '',
            kneipp_water_cure: '',
            advertising: '',
            public_bookcase: '',
            dojo: '',
            lavoir: '',
            boat_rental: '',
            gym: '',
            monastery: '',
            sanitary_dump_station: '',
            ticket_validator: '',
            garages: '',
            office: '',
            animal_shelter: '',
            training: '',
            vehicle_inspection: '',
            internet_cafe: '',
            water: '',
            public_hall: '',
            ranger_station: '',
            stables: '',
            stripclub: '',
            dancing_school: '',
            refugee_housing: '',
            events_venue: '',
            money_transfer: '',
            feeding_place: '',
            love_hotel: '',
            mortuary: '',
            crematorium: '',
            weighbridge: '',
            sanatorium: '',
            emergency_service: 'health',
            nursery: '',
            dive_centre: '',
            customs: ''
        },
        shop: {
            fall_back: 'department-store',
            convenience : 'convenience-store',
            supermarket: 'grocery-or-supermarket',
            clothes: 'clothing-store',
            hairdresser: 'beauty-salon',
            bakery: 'bakery',
            car: 'car-dealer',
            car_repair: 'car-repair',
            kiosk: 'convenience-store',
            doityourself: 'hardware-store',
            butcher: '',
            florist: 'florist',
            mall: 'shopping-mall',
            furniture: 'furniture-store',
            shoes: 'clothing-store',
            hardware: 'hardware-store',
            electronics: 'point-of-interest',
            alcohol: 'night-club',
            beauty: 'beauty-salon',
            bicycle: 'bicycle-store',
            books: 'book-store',
            mobile_phone: 'point-of-interest',
            jewelry: 'jewelry-store',
            department_store: 'department-store',
            optician: '',
            gift: '',
            car_parts: '',
            greengrocer: 'convenience-store',
            chemist: '',
            variety_store: 'convenience-store',
            sports: '',
            computer: '',
            travel_agency: 'travel-agency',
            stationery: '',
            garden_centre: 'florist',
            confectionery: '',
            laundry: 'laundry',
            beverages: 'liquor-store',
            newsagent: '',
            toys: '',
            pet: '',
            dry_cleaning: '',
            vacant: '',
            motorcycle: '',
            boutique: '',
            tyres: '',
            deli: '',
            copyshop: '',
            funeral_directors: '',
            hifi: '',
            outdoor: 'climbing',
            art: 'art-gallery',
            farm: 'horse-riding',
            tailor: '',
            interior_decoration: '',
            tobacco: '',
            seafood: 'fish-cleaning',
            photo: 'point-of-interest',
            fabric: '',
            kitchen: '',
            paint: '',
            massage: '',
            second_hand: '',
            ticket: '',
            video: '',
            estate_agent: '',
            wine: '',
            music: '',
            trade: '',
            lottery: '',
            pawnbroker: '',
            charity: 'walking',
            antiques: '',
            cosmetics: '',
            bed: '',
            musical_instrument: '',
            bookmaker: '',
            tattoo: '',
            houseware: '',
            general: '',
            fashion: '',
            medical_supply: '',
            craft: '',
            baby_goods: '',
            hearing_aids: '',
            fishmonger: '',
            carpet: '',
            tea: '',
            bag: '',
            erotic: '',
            coffee: '',
            curtain: '',
            frame: '',
            video_games: '',
            ice_cream: '',
            food: '',
            locksmith: '',
            money_lender: '',
            bathroom_furnishing: '',
            energy: '',
            cheese: '',
            dairy: '',
            glaziery: '',
            organic: '',
            herbalist: '',
            fishing: '',
            pastry: '',
            chocolate: '',
            perfumery: '',
            radiotechnics: '',
            grocery: '',
            gas: '',
            scuba_diving: '',
            photo_studio: '',
            insurance: '',
            wholesale: '',
            watches: '',
            electrical: '',
            'e-cigarette': '',
            shoe_repair: '',
            leather: '',
            winery: '',
            furnace: '',
            religion: '',
            hunting: '',
            motorcycle_repair: '',
            vacuum_cleaner: '',
            solarium: '',
            frozen_food: '',
            fish: '',
            household: '',
            street_vendor: '',
            weapons: '',
            lighting: '',
            sewing: '',
        },
        craft: {
            fall_back: 'hardware_store',
            carpenter: '',
            shoemaker: '',
            photographer: '',
            electrician: '',
            brewery: '',
            winery: '',
            tailor: '',
            confectionery: '',
            plumber: '',
            metal_construction: '',
            sawmill: '',
            hvac: '',
            gardener: '',
            painter: '',
            stonemason: '',
            handicraft: '',
            dressmaker: '',
            glaziery: '',
            caterer: '',
            key_cutter: '',
            pottery: '',
            beekeeper: '',
            roofer: '',
            blacksmith: '',
            window_construction: '',
            photographic_laboratory: '',
            upholsterer: '',
            locksmith: '',
            clockmaker: '',
            tiler: '',
            jeweller: '',
            distillery: '',
            optician: '',
            watchmaker: '',
            agricultural_engines: '',
            joiner: '',
            builder: '',
            electronics_repair: 'point-of-interest',
            tinsmith: '',
            bookbinder: '',
            plasterer: '',
            scaffolder: '',
            carpet_layer: '',
            boatbuilder: '',
            cabinet_maker: '',
            electronics: 'point-of-interest',
            saddler: '',
            catering: '',
            sculpter: '',
            computer: '',
            confectionary: ''
        },
        office: {
            fall_back: 'city-hall',
            company: 'insurance-agency',
            government: '',
            estate_agent: 'estate-agency',
            insurance: 'insurance-agency',
            administrative: '',
            lawyer: 'lawyer',
            educational_institution: 'museum',
            telecommunication: '',
            ngo: 'museum',
            it: '',
            accountant: 'finance',
            research: 'university',
            employment_agency: '',
            religion: 'synagogue',
            physician: 'physiotherapist',
            association: '',
            architect: '',
            travel_agent: 'travel-agency',
            newspaper: '',
            financial: 'financial',
            therapist: '',
            political_party: '',
            advertising_agency: '',
            tax_advisor: 'financial',
            notary: 'financial',
            tax: 'financial',
            foundation: '',
            parish: '',
            vacant: '',
            consulting: '',
            camping: 'campground',
            forestry: '',
            publisher: '',
            quango: '',
            administration: '',
            register: '',
            cooperative: '',
            podologist: '',
            charity: 'walking',
            logistics: 'moving-company',
            engineering: '',
            solicitor: '',
            healer: '',
            water_utility: '',
            taxi: 'taxi-stand',
            university: 'university',
            commercial: '',
            real_estate: 'real-estate-agency',
            medical: 'doctor',
            education: 'school',
        },
        restaurant: {
            fall_back: 'restaurant'
        },
        tourism: {
            fall_back: 'natural-feature',
            information: 'travel-agency',
            hotel: 'lodging',
            attraction: '',
            viewpoint: '',
            picnic_site: 'park',
            camp_site: 'campground',
            guest_house: 'lodging',
            museum: 'museum',
            artwork: 'art-gallery',
            motel: 'lodging',
            chalet: '',
            hostel: 'lodging',
            caravan_site: 'rv-park',
            alpine_hut: 'roofing-contractor',
            theme_park: 'amusement-park',
            zoo: 'zoo',
            apartment: 'lodging',
            wilderness_hut: 'roofing-contractor',
            gallery: 'art-gallery',
            bed_and_breakfast: 'lodging',
            hanami: '',
            wine_cellar: 'night-club',
            resort: 'lodging',
            trail_riding_station: '',
            disused_camp_site: 'roofing-contractor',
            aquarium: 'aquarium',
            apartments: 'lodging',
            cabin: 'roofing-contractor',
            winery: 'night-club',
            lean_to: '',
            hut: 'roofing-contractor',
            picnic_table: 'park',
            village_sign: 'viewing',
            sign: 'viewing',
            camping: 'campground'
        },
        hiking: {
            fall_back: 'trail-walking',
            no: ''
        },
        highway: {
            fall_back: 'bus-station',
            bus_stop: 'bus-station',
            platform: 'bus-station'
        },
        railway: {
            fall_back: 'train-station',
            station: 'train-station',
            platform: 'train-station',
            tram_stop: 'train-station',
            subway_entrance: 'subway-station'
        },
        public_transport: {
            fall_back: 'bus-station',
            station: 'train-station',
            tram_stop: 'train-station',
            bus_stop: 'bus-station',
            subway_entrance: 'subway-station'
        },
        fall_back: 'embassy'
    }

</script>


<!-- MENU OPTIONS -->
<script type="text/javascript">
    /* MENU OPTIONS */

    function toggleMenu() {
        var mele = document.getElementById('menu');
        if (mele) {
            if (mele.style.display == 'block') {
                mele.style.display = 'none';
            } else {
                mele.style.display = 'block';
            }
        }
    }
</script>

</body>
</html>

